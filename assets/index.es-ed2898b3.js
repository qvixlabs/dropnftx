import{cO as Jv,bg as Qv,cS as eu,dB as Lo,dC as Mo,dD as Vv,dE as Kv,dF as Zv,cC as Bo,dG as Yv,dH as No,dI as Xv,dJ as Xi,dK as tg,dL as Or,dM as eg,dN as Ir,dO as rg,dP as ru,dQ as Qi,dR as Ie,dS as ng,dT as ig,p as sg}from"./index-e9dc9249.js";var ts={exports:{}};(function(P,s){var i=typeof self<"u"?self:Jv,f=function(){function b(){this.fetch=!1,this.DOMException=i.DOMException}return b.prototype=i,new b}();(function(b){(function(O){var B={searchParams:"URLSearchParams"in b,iterable:"Symbol"in b&&"iterator"in Symbol,blob:"FileReader"in b&&"Blob"in b&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in b,arrayBuffer:"ArrayBuffer"in b};function ot(v){return v&&DataView.prototype.isPrototypeOf(v)}if(B.arrayBuffer)var it=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],lt=ArrayBuffer.isView||function(v){return v&&it.indexOf(Object.prototype.toString.call(v))>-1};function nt(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(v))throw new TypeError("Invalid character in header field name");return v.toLowerCase()}function pt(v){return typeof v!="string"&&(v=String(v)),v}function ut(v){var E={next:function(){var $=v.shift();return{done:$===void 0,value:$}}};return B.iterable&&(E[Symbol.iterator]=function(){return E}),E}function G(v){this.map={},v instanceof G?v.forEach(function(E,$){this.append($,E)},this):Array.isArray(v)?v.forEach(function(E){this.append(E[0],E[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(E){this.append(E,v[E])},this)}G.prototype.append=function(v,E){v=nt(v),E=pt(E);var $=this.map[v];this.map[v]=$?$+", "+E:E},G.prototype.delete=function(v){delete this.map[nt(v)]},G.prototype.get=function(v){return v=nt(v),this.has(v)?this.map[v]:null},G.prototype.has=function(v){return this.map.hasOwnProperty(nt(v))},G.prototype.set=function(v,E){this.map[nt(v)]=pt(E)},G.prototype.forEach=function(v,E){for(var $ in this.map)this.map.hasOwnProperty($)&&v.call(E,this.map[$],$,this)},G.prototype.keys=function(){var v=[];return this.forEach(function(E,$){v.push($)}),ut(v)},G.prototype.values=function(){var v=[];return this.forEach(function(E){v.push(E)}),ut(v)},G.prototype.entries=function(){var v=[];return this.forEach(function(E,$){v.push([$,E])}),ut(v)},B.iterable&&(G.prototype[Symbol.iterator]=G.prototype.entries);function pe(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function _t(v){return new Promise(function(E,$){v.onload=function(){E(v.result)},v.onerror=function(){$(v.error)}})}function Xt(v){var E=new FileReader,$=_t(E);return E.readAsArrayBuffer(v),$}function jr(v){var E=new FileReader,$=_t(E);return E.readAsText(v),$}function Rt(v){for(var E=new Uint8Array(v),$=new Array(E.length),K=0;K<E.length;K++)$[K]=String.fromCharCode(E[K]);return $.join("")}function te(v){if(v.slice)return v.slice(0);var E=new Uint8Array(v.byteLength);return E.set(new Uint8Array(v)),E.buffer}function It(){return this.bodyUsed=!1,this._initBody=function(v){this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:B.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:B.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:B.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():B.arrayBuffer&&B.blob&&ot(v)?(this._bodyArrayBuffer=te(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):B.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||lt(v))?this._bodyArrayBuffer=te(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):B.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},B.blob&&(this.blob=function(){var v=pe(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?pe(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Xt)}),this.text=function(){var v=pe(this);if(v)return v;if(this._bodyBlob)return jr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Rt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},B.formData&&(this.formData=function(){return this.text().then(Xe)}),this.json=function(){return this.text().then(JSON.parse)},this}var de=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ut(v){var E=v.toUpperCase();return de.indexOf(E)>-1?E:v}function At(v,E){E=E||{};var $=E.body;if(v instanceof At){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,E.headers||(this.headers=new G(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!$&&v._bodyInit!=null&&($=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new G(E.headers)),this.method=Ut(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody($)}At.prototype.clone=function(){return new At(this,{body:this._bodyInit})};function Xe(v){var E=new FormData;return v.trim().split("&").forEach(function($){if($){var K=$.split("="),J=K.shift().replace(/\+/g," "),U=K.join("=").replace(/\+/g," ");E.append(decodeURIComponent(J),decodeURIComponent(U))}}),E}function In(v){var E=new G,$=v.replace(/\r?\n[\t ]+/g," ");return $.split(/\r?\n/).forEach(function(K){var J=K.split(":"),U=J.shift().trim();if(U){var ee=J.join(":").trim();E.append(U,ee)}}),E}It.call(At.prototype);function $t(v,E){E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in E?E.statusText:"OK",this.headers=new G(E.headers),this.url=E.url||"",this._initBody(v)}It.call($t.prototype),$t.prototype.clone=function(){return new $t(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new G(this.headers),url:this.url})},$t.error=function(){var v=new $t(null,{status:0,statusText:""});return v.type="error",v};var An=[301,302,303,307,308];$t.redirect=function(v,E){if(An.indexOf(E)===-1)throw new RangeError("Invalid status code");return new $t(null,{status:E,headers:{location:v}})},O.DOMException=b.DOMException;try{new O.DOMException}catch{O.DOMException=function(E,$){this.message=E,this.name=$;var K=Error(E);this.stack=K.stack},O.DOMException.prototype=Object.create(Error.prototype),O.DOMException.prototype.constructor=O.DOMException}function tr(v,E){return new Promise(function($,K){var J=new At(v,E);if(J.signal&&J.signal.aborted)return K(new O.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function ee(){U.abort()}U.onload=function(){var dt={status:U.status,statusText:U.statusText,headers:In(U.getAllResponseHeaders()||"")};dt.url="responseURL"in U?U.responseURL:dt.headers.get("X-Request-URL");var er="response"in U?U.response:U.responseText;$(new $t(er,dt))},U.onerror=function(){K(new TypeError("Network request failed"))},U.ontimeout=function(){K(new TypeError("Network request failed"))},U.onabort=function(){K(new O.DOMException("Aborted","AbortError"))},U.open(J.method,J.url,!0),J.credentials==="include"?U.withCredentials=!0:J.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&B.blob&&(U.responseType="blob"),J.headers.forEach(function(dt,er){U.setRequestHeader(er,dt)}),J.signal&&(J.signal.addEventListener("abort",ee),U.onreadystatechange=function(){U.readyState===4&&J.signal.removeEventListener("abort",ee)}),U.send(typeof J._bodyInit>"u"?null:J._bodyInit)})}return tr.polyfill=!0,b.fetch||(b.fetch=tr,b.Headers=G,b.Request=At,b.Response=$t),O.Headers=G,O.Request=At,O.Response=$t,O.fetch=tr,Object.defineProperty(O,"__esModule",{value:!0}),O})({})})(f),f.fetch.ponyfill=!0,delete f.fetch.polyfill;var _=f;s=_.fetch,s.default=_.fetch,s.fetch=_.fetch,s.Headers=_.Headers,s.Request=_.Request,s.Response=_.Response,P.exports=s})(ts,ts.exports);var ag=ts.exports;const Fo=Qv(ag),og={Accept:"application/json","Content-Type":"application/json"},ug="POST",Uo={headers:og,method:ug},zo=10;class Ae{constructor(s,i=!1){if(this.url=s,this.disableProviderPing=i,this.events=new eu.EventEmitter,this.isAvailable=!1,this.registering=!1,!Lo(s))throw new Error(`Provided URL is not compatible with HTTP connection: ${s}`);this.url=s,this.disableProviderPing=i}get connected(){return this.isAvailable}get connecting(){return this.registering}on(s,i){this.events.on(s,i)}once(s,i){this.events.once(s,i)}off(s,i){this.events.off(s,i)}removeListener(s,i){this.events.removeListener(s,i)}async open(s=this.url){await this.register(s)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(s,i){this.isAvailable||await this.register();try{const f=Mo(s),b=await(await Fo(this.url,Object.assign(Object.assign({},Uo),{body:f}))).json();this.onPayload({data:b})}catch(f){this.onError(s.id,f)}}async register(s=this.url){if(!Lo(s))throw new Error(`Provided URL is not compatible with HTTP connection: ${s}`);if(this.registering){const i=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=i||this.events.listenerCount("open")>=i)&&this.events.setMaxListeners(i+1),new Promise((f,_)=>{this.events.once("register_error",b=>{this.resetMaxListeners(),_(b)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return _(new Error("HTTP connection is missing or invalid"));f()})})}this.url=s,this.registering=!0;try{if(!this.disableProviderPing){const i=Mo({id:1,jsonrpc:"2.0",method:"test",params:[]});await Fo(s,Object.assign(Object.assign({},Uo),{body:i}))}this.onOpen()}catch(i){const f=this.parseError(i);throw this.events.emit("register_error",f),this.onClose(),f}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(s){if(typeof s.data>"u")return;const i=typeof s.data=="string"?Vv(s.data):s.data;this.events.emit("payload",i)}onError(s,i){const f=this.parseError(i),_=f.message||f.toString(),b=Kv(s,_);this.events.emit("payload",b)}parseError(s,i=this.url){return Zv(s,i,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>zo&&this.events.setMaxListeners(zo)}}const Wo="error",cg="wss://relay.walletconnect.com",hg="wc",fg="universal_provider",Go=`${hg}@2:${fg}:`,lg="https://rpc.walletconnect.com/v1/",le={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Bo<"u"?Bo:typeof self<"u"?self:{},es={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(P,s){(function(){var i,f="4.17.21",_=200,b="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",O="Expected a function",B="Invalid `variable` option passed into `_.template`",ot="__lodash_hash_undefined__",it=500,lt="__lodash_placeholder__",nt=1,pt=2,ut=4,G=1,pe=2,_t=1,Xt=2,jr=4,Rt=8,te=16,It=32,de=64,Ut=128,At=256,Xe=512,In=30,$t="...",An=800,tr=16,v=1,E=2,$=3,K=1/0,J=9007199254740991,U=17976931348623157e292,ee=0/0,dt=4294967295,er=dt-1,su=dt>>>1,au=[["ary",Ut],["bind",_t],["bindKey",Xt],["curry",Rt],["curryRight",te],["flip",Xe],["partial",It],["partialRight",de],["rearg",At]],ke="[object Arguments]",xr="[object Array]",ou="[object AsyncFunction]",rr="[object Boolean]",nr="[object Date]",uu="[object DOMException]",Dr="[object Error]",Sr="[object Function]",as="[object GeneratorFunction]",zt="[object Map]",ir="[object Number]",cu="[object Null]",re="[object Object]",os="[object Promise]",hu="[object Proxy]",sr="[object RegExp]",Wt="[object Set]",ar="[object String]",Tr="[object Symbol]",fu="[object Undefined]",or="[object WeakMap]",lu="[object WeakSet]",ur="[object ArrayBuffer]",Le="[object DataView]",On="[object Float32Array]",jn="[object Float64Array]",xn="[object Int8Array]",Dn="[object Int16Array]",Sn="[object Int32Array]",Tn="[object Uint8Array]",Rn="[object Uint8ClampedArray]",$n="[object Uint16Array]",Hn="[object Uint32Array]",pu=/\b__p \+= '';/g,du=/\b(__p \+=) '' \+/g,vu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,us=/&(?:amp|lt|gt|quot|#39);/g,cs=/[&<>"']/g,gu=RegExp(us.source),_u=RegExp(cs.source),mu=/<%-([\s\S]+?)%>/g,yu=/<%([\s\S]+?)%>/g,hs=/<%=([\s\S]+?)%>/g,wu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bu=/^\w*$/,Pu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qn=/[\\^$.*+?()[\]{}|]/g,Eu=RegExp(qn.source),kn=/^\s+/,Cu=/\s/,Iu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Au=/\{\n\/\* \[wrapped with (.+)\] \*/,Ou=/,? & /,ju=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xu=/[()=,{}\[\]\/\s]/,Du=/\\(\\)?/g,Su=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fs=/\w*$/,Tu=/^[-+]0x[0-9a-f]+$/i,Ru=/^0b[01]+$/i,$u=/^\[object .+?Constructor\]$/,Hu=/^0o[0-7]+$/i,qu=/^(?:0|[1-9]\d*)$/,ku=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rr=/($^)/,Lu=/['\n\r\u2028\u2029\\]/g,$r="\\ud800-\\udfff",Mu="\\u0300-\\u036f",Bu="\\ufe20-\\ufe2f",Nu="\\u20d0-\\u20ff",ls=Mu+Bu+Nu,ps="\\u2700-\\u27bf",ds="a-z\\xdf-\\xf6\\xf8-\\xff",Fu="\\xac\\xb1\\xd7\\xf7",Uu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zu="\\u2000-\\u206f",Wu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vs="A-Z\\xc0-\\xd6\\xd8-\\xde",gs="\\ufe0e\\ufe0f",_s=Fu+Uu+zu+Wu,Ln="['’]",Gu="["+$r+"]",ms="["+_s+"]",Hr="["+ls+"]",ys="\\d+",Ju="["+ps+"]",ws="["+ds+"]",bs="[^"+$r+_s+ys+ps+ds+vs+"]",Mn="\\ud83c[\\udffb-\\udfff]",Qu="(?:"+Hr+"|"+Mn+")",Ps="[^"+$r+"]",Bn="(?:\\ud83c[\\udde6-\\uddff]){2}",Nn="[\\ud800-\\udbff][\\udc00-\\udfff]",Me="["+vs+"]",Es="\\u200d",Cs="(?:"+ws+"|"+bs+")",Vu="(?:"+Me+"|"+bs+")",Is="(?:"+Ln+"(?:d|ll|m|re|s|t|ve))?",As="(?:"+Ln+"(?:D|LL|M|RE|S|T|VE))?",Os=Qu+"?",js="["+gs+"]?",Ku="(?:"+Es+"(?:"+[Ps,Bn,Nn].join("|")+")"+js+Os+")*",Zu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xs=js+Os+Ku,Xu="(?:"+[Ju,Bn,Nn].join("|")+")"+xs,tc="(?:"+[Ps+Hr+"?",Hr,Bn,Nn,Gu].join("|")+")",ec=RegExp(Ln,"g"),rc=RegExp(Hr,"g"),Fn=RegExp(Mn+"(?="+Mn+")|"+tc+xs,"g"),nc=RegExp([Me+"?"+ws+"+"+Is+"(?="+[ms,Me,"$"].join("|")+")",Vu+"+"+As+"(?="+[ms,Me+Cs,"$"].join("|")+")",Me+"?"+Cs+"+"+Is,Me+"+"+As,Yu,Zu,ys,Xu].join("|"),"g"),ic=RegExp("["+Es+$r+ls+gs+"]"),sc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ac=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oc=-1,V={};V[On]=V[jn]=V[xn]=V[Dn]=V[Sn]=V[Tn]=V[Rn]=V[$n]=V[Hn]=!0,V[ke]=V[xr]=V[ur]=V[rr]=V[Le]=V[nr]=V[Dr]=V[Sr]=V[zt]=V[ir]=V[re]=V[sr]=V[Wt]=V[ar]=V[or]=!1;var Q={};Q[ke]=Q[xr]=Q[ur]=Q[Le]=Q[rr]=Q[nr]=Q[On]=Q[jn]=Q[xn]=Q[Dn]=Q[Sn]=Q[zt]=Q[ir]=Q[re]=Q[sr]=Q[Wt]=Q[ar]=Q[Tr]=Q[Tn]=Q[Rn]=Q[$n]=Q[Hn]=!0,Q[Dr]=Q[Sr]=Q[or]=!1;var uc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},cc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lc=parseFloat,pc=parseInt,Ds=typeof Cr=="object"&&Cr&&Cr.Object===Object&&Cr,dc=typeof self=="object"&&self&&self.Object===Object&&self,ht=Ds||dc||Function("return this")(),Un=s&&!s.nodeType&&s,Oe=Un&&!0&&P&&!P.nodeType&&P,Ss=Oe&&Oe.exports===Un,zn=Ss&&Ds.process,Ht=function(){try{var l=Oe&&Oe.require&&Oe.require("util").types;return l||zn&&zn.binding&&zn.binding("util")}catch{}}(),Ts=Ht&&Ht.isArrayBuffer,Rs=Ht&&Ht.isDate,$s=Ht&&Ht.isMap,Hs=Ht&&Ht.isRegExp,qs=Ht&&Ht.isSet,ks=Ht&&Ht.isTypedArray;function Ot(l,g,d){switch(d.length){case 0:return l.call(g);case 1:return l.call(g,d[0]);case 2:return l.call(g,d[0],d[1]);case 3:return l.call(g,d[0],d[1],d[2])}return l.apply(g,d)}function vc(l,g,d,I){for(var S=-1,N=l==null?0:l.length;++S<N;){var st=l[S];g(I,st,d(st),l)}return I}function qt(l,g){for(var d=-1,I=l==null?0:l.length;++d<I&&g(l[d],d,l)!==!1;);return l}function gc(l,g){for(var d=l==null?0:l.length;d--&&g(l[d],d,l)!==!1;);return l}function Ls(l,g){for(var d=-1,I=l==null?0:l.length;++d<I;)if(!g(l[d],d,l))return!1;return!0}function ve(l,g){for(var d=-1,I=l==null?0:l.length,S=0,N=[];++d<I;){var st=l[d];g(st,d,l)&&(N[S++]=st)}return N}function qr(l,g){var d=l==null?0:l.length;return!!d&&Be(l,g,0)>-1}function Wn(l,g,d){for(var I=-1,S=l==null?0:l.length;++I<S;)if(d(g,l[I]))return!0;return!1}function Z(l,g){for(var d=-1,I=l==null?0:l.length,S=Array(I);++d<I;)S[d]=g(l[d],d,l);return S}function ge(l,g){for(var d=-1,I=g.length,S=l.length;++d<I;)l[S+d]=g[d];return l}function Gn(l,g,d,I){var S=-1,N=l==null?0:l.length;for(I&&N&&(d=l[++S]);++S<N;)d=g(d,l[S],S,l);return d}function _c(l,g,d,I){var S=l==null?0:l.length;for(I&&S&&(d=l[--S]);S--;)d=g(d,l[S],S,l);return d}function Jn(l,g){for(var d=-1,I=l==null?0:l.length;++d<I;)if(g(l[d],d,l))return!0;return!1}var mc=Qn("length");function yc(l){return l.split("")}function wc(l){return l.match(ju)||[]}function Ms(l,g,d){var I;return d(l,function(S,N,st){if(g(S,N,st))return I=N,!1}),I}function kr(l,g,d,I){for(var S=l.length,N=d+(I?1:-1);I?N--:++N<S;)if(g(l[N],N,l))return N;return-1}function Be(l,g,d){return g===g?Tc(l,g,d):kr(l,Bs,d)}function bc(l,g,d,I){for(var S=d-1,N=l.length;++S<N;)if(I(l[S],g))return S;return-1}function Bs(l){return l!==l}function Ns(l,g){var d=l==null?0:l.length;return d?Kn(l,g)/d:ee}function Qn(l){return function(g){return g==null?i:g[l]}}function Vn(l){return function(g){return l==null?i:l[g]}}function Fs(l,g,d,I,S){return S(l,function(N,st,W){d=I?(I=!1,N):g(d,N,st,W)}),d}function Pc(l,g){var d=l.length;for(l.sort(g);d--;)l[d]=l[d].value;return l}function Kn(l,g){for(var d,I=-1,S=l.length;++I<S;){var N=g(l[I]);N!==i&&(d=d===i?N:d+N)}return d}function Zn(l,g){for(var d=-1,I=Array(l);++d<l;)I[d]=g(d);return I}function Ec(l,g){return Z(g,function(d){return[d,l[d]]})}function Us(l){return l&&l.slice(0,Js(l)+1).replace(kn,"")}function jt(l){return function(g){return l(g)}}function Yn(l,g){return Z(g,function(d){return l[d]})}function cr(l,g){return l.has(g)}function zs(l,g){for(var d=-1,I=l.length;++d<I&&Be(g,l[d],0)>-1;);return d}function Ws(l,g){for(var d=l.length;d--&&Be(g,l[d],0)>-1;);return d}function Cc(l,g){for(var d=l.length,I=0;d--;)l[d]===g&&++I;return I}var Ic=Vn(uc),Ac=Vn(cc);function Oc(l){return"\\"+fc[l]}function jc(l,g){return l==null?i:l[g]}function Ne(l){return ic.test(l)}function xc(l){return sc.test(l)}function Dc(l){for(var g,d=[];!(g=l.next()).done;)d.push(g.value);return d}function Xn(l){var g=-1,d=Array(l.size);return l.forEach(function(I,S){d[++g]=[S,I]}),d}function Gs(l,g){return function(d){return l(g(d))}}function _e(l,g){for(var d=-1,I=l.length,S=0,N=[];++d<I;){var st=l[d];(st===g||st===lt)&&(l[d]=lt,N[S++]=d)}return N}function Lr(l){var g=-1,d=Array(l.size);return l.forEach(function(I){d[++g]=I}),d}function Sc(l){var g=-1,d=Array(l.size);return l.forEach(function(I){d[++g]=[I,I]}),d}function Tc(l,g,d){for(var I=d-1,S=l.length;++I<S;)if(l[I]===g)return I;return-1}function Rc(l,g,d){for(var I=d+1;I--;)if(l[I]===g)return I;return I}function Fe(l){return Ne(l)?Hc(l):mc(l)}function Gt(l){return Ne(l)?qc(l):yc(l)}function Js(l){for(var g=l.length;g--&&Cu.test(l.charAt(g)););return g}var $c=Vn(hc);function Hc(l){for(var g=Fn.lastIndex=0;Fn.test(l);)++g;return g}function qc(l){return l.match(Fn)||[]}function kc(l){return l.match(nc)||[]}var Lc=function l(g){g=g==null?ht:Ue.defaults(ht.Object(),g,Ue.pick(ht,ac));var d=g.Array,I=g.Date,S=g.Error,N=g.Function,st=g.Math,W=g.Object,ti=g.RegExp,Mc=g.String,kt=g.TypeError,Mr=d.prototype,Bc=N.prototype,ze=W.prototype,Br=g["__core-js_shared__"],Nr=Bc.toString,z=ze.hasOwnProperty,Nc=0,Qs=function(){var t=/[^.]+$/.exec(Br&&Br.keys&&Br.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Fr=ze.toString,Fc=Nr.call(W),Uc=ht._,zc=ti("^"+Nr.call(z).replace(qn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=Ss?g.Buffer:i,me=g.Symbol,zr=g.Uint8Array,Vs=Ur?Ur.allocUnsafe:i,Wr=Gs(W.getPrototypeOf,W),Ks=W.create,Zs=ze.propertyIsEnumerable,Gr=Mr.splice,Ys=me?me.isConcatSpreadable:i,hr=me?me.iterator:i,je=me?me.toStringTag:i,Jr=function(){try{var t=Re(W,"defineProperty");return t({},"",{}),t}catch{}}(),Wc=g.clearTimeout!==ht.clearTimeout&&g.clearTimeout,Gc=I&&I.now!==ht.Date.now&&I.now,Jc=g.setTimeout!==ht.setTimeout&&g.setTimeout,Qr=st.ceil,Vr=st.floor,ei=W.getOwnPropertySymbols,Qc=Ur?Ur.isBuffer:i,Xs=g.isFinite,Vc=Mr.join,Kc=Gs(W.keys,W),at=st.max,vt=st.min,Zc=I.now,Yc=g.parseInt,ta=st.random,Xc=Mr.reverse,ri=Re(g,"DataView"),fr=Re(g,"Map"),ni=Re(g,"Promise"),We=Re(g,"Set"),lr=Re(g,"WeakMap"),pr=Re(W,"create"),Kr=lr&&new lr,Ge={},th=$e(ri),eh=$e(fr),rh=$e(ni),nh=$e(We),ih=$e(lr),Zr=me?me.prototype:i,dr=Zr?Zr.valueOf:i,ea=Zr?Zr.toString:i;function o(t){if(tt(t)&&!T(t)&&!(t instanceof L)){if(t instanceof Lt)return t;if(z.call(t,"__wrapped__"))return ro(t)}return new Lt(t)}var Je=function(){function t(){}return function(e){if(!X(e))return{};if(Ks)return Ks(e);t.prototype=e;var r=new t;return t.prototype=i,r}}();function Yr(){}function Lt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}o.templateSettings={escape:mu,evaluate:yu,interpolate:hs,variable:"",imports:{_:o}},o.prototype=Yr.prototype,o.prototype.constructor=o,Lt.prototype=Je(Yr.prototype),Lt.prototype.constructor=Lt;function L(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=dt,this.__views__=[]}function sh(){var t=new L(this.__wrapped__);return t.__actions__=bt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=bt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=bt(this.__views__),t}function ah(){if(this.__filtered__){var t=new L(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function oh(){var t=this.__wrapped__.value(),e=this.__dir__,r=T(t),n=e<0,a=r?t.length:0,u=wf(0,a,this.__views__),c=u.start,h=u.end,p=h-c,m=n?h:c-1,y=this.__iteratees__,w=y.length,C=0,A=vt(p,this.__takeCount__);if(!r||!n&&a==p&&A==p)return Ia(t,this.__actions__);var x=[];t:for(;p--&&C<A;){m+=e;for(var H=-1,D=t[m];++H<w;){var k=y[H],M=k.iteratee,St=k.type,wt=M(D);if(St==E)D=wt;else if(!wt){if(St==v)continue t;break t}}x[C++]=D}return x}L.prototype=Je(Yr.prototype),L.prototype.constructor=L;function xe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function uh(){this.__data__=pr?pr(null):{},this.size=0}function ch(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function hh(t){var e=this.__data__;if(pr){var r=e[t];return r===ot?i:r}return z.call(e,t)?e[t]:i}function fh(t){var e=this.__data__;return pr?e[t]!==i:z.call(e,t)}function lh(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=pr&&e===i?ot:e,this}xe.prototype.clear=uh,xe.prototype.delete=ch,xe.prototype.get=hh,xe.prototype.has=fh,xe.prototype.set=lh;function ne(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ph(){this.__data__=[],this.size=0}function dh(t){var e=this.__data__,r=Xr(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Gr.call(e,r,1),--this.size,!0}function vh(t){var e=this.__data__,r=Xr(e,t);return r<0?i:e[r][1]}function gh(t){return Xr(this.__data__,t)>-1}function _h(t,e){var r=this.__data__,n=Xr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}ne.prototype.clear=ph,ne.prototype.delete=dh,ne.prototype.get=vh,ne.prototype.has=gh,ne.prototype.set=_h;function ie(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mh(){this.size=0,this.__data__={hash:new xe,map:new(fr||ne),string:new xe}}function yh(t){var e=ln(this,t).delete(t);return this.size-=e?1:0,e}function wh(t){return ln(this,t).get(t)}function bh(t){return ln(this,t).has(t)}function Ph(t,e){var r=ln(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}ie.prototype.clear=mh,ie.prototype.delete=yh,ie.prototype.get=wh,ie.prototype.has=bh,ie.prototype.set=Ph;function De(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new ie;++e<r;)this.add(t[e])}function Eh(t){return this.__data__.set(t,ot),this}function Ch(t){return this.__data__.has(t)}De.prototype.add=De.prototype.push=Eh,De.prototype.has=Ch;function Jt(t){var e=this.__data__=new ne(t);this.size=e.size}function Ih(){this.__data__=new ne,this.size=0}function Ah(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Oh(t){return this.__data__.get(t)}function jh(t){return this.__data__.has(t)}function xh(t,e){var r=this.__data__;if(r instanceof ne){var n=r.__data__;if(!fr||n.length<_-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ie(n)}return r.set(t,e),this.size=r.size,this}Jt.prototype.clear=Ih,Jt.prototype.delete=Ah,Jt.prototype.get=Oh,Jt.prototype.has=jh,Jt.prototype.set=xh;function ra(t,e){var r=T(t),n=!r&&He(t),a=!r&&!n&&Ee(t),u=!r&&!n&&!a&&Ze(t),c=r||n||a||u,h=c?Zn(t.length,Mc):[],p=h.length;for(var m in t)(e||z.call(t,m))&&!(c&&(m=="length"||a&&(m=="offset"||m=="parent")||u&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||ue(m,p)))&&h.push(m);return h}function na(t){var e=t.length;return e?t[di(0,e-1)]:i}function Dh(t,e){return pn(bt(t),Se(e,0,t.length))}function Sh(t){return pn(bt(t))}function ii(t,e,r){(r!==i&&!Qt(t[e],r)||r===i&&!(e in t))&&se(t,e,r)}function vr(t,e,r){var n=t[e];(!(z.call(t,e)&&Qt(n,r))||r===i&&!(e in t))&&se(t,e,r)}function Xr(t,e){for(var r=t.length;r--;)if(Qt(t[r][0],e))return r;return-1}function Th(t,e,r,n){return ye(t,function(a,u,c){e(n,a,r(a),c)}),n}function ia(t,e){return t&&Zt(e,ct(e),t)}function Rh(t,e){return t&&Zt(e,Et(e),t)}function se(t,e,r){e=="__proto__"&&Jr?Jr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function si(t,e){for(var r=-1,n=e.length,a=d(n),u=t==null;++r<n;)a[r]=u?i:Mi(t,e[r]);return a}function Se(t,e,r){return t===t&&(r!==i&&(t=t<=r?t:r),e!==i&&(t=t>=e?t:e)),t}function Mt(t,e,r,n,a,u){var c,h=e&nt,p=e&pt,m=e&ut;if(r&&(c=a?r(t,n,a,u):r(t)),c!==i)return c;if(!X(t))return t;var y=T(t);if(y){if(c=Pf(t),!h)return bt(t,c)}else{var w=gt(t),C=w==Sr||w==as;if(Ee(t))return ja(t,h);if(w==re||w==ke||C&&!a){if(c=p||C?{}:Ja(t),!h)return p?ff(t,Rh(c,t)):hf(t,ia(c,t))}else{if(!Q[w])return a?t:{};c=Ef(t,w,h)}}u||(u=new Jt);var A=u.get(t);if(A)return A;u.set(t,c),Eo(t)?t.forEach(function(D){c.add(Mt(D,e,r,D,t,u))}):bo(t)&&t.forEach(function(D,k){c.set(k,Mt(D,e,r,k,t,u))});var x=m?p?Ii:Ci:p?Et:ct,H=y?i:x(t);return qt(H||t,function(D,k){H&&(k=D,D=t[k]),vr(c,k,Mt(D,e,r,k,t,u))}),c}function $h(t){var e=ct(t);return function(r){return sa(r,t,e)}}function sa(t,e,r){var n=r.length;if(t==null)return!n;for(t=W(t);n--;){var a=r[n],u=e[a],c=t[a];if(c===i&&!(a in t)||!u(c))return!1}return!0}function aa(t,e,r){if(typeof t!="function")throw new kt(O);return Pr(function(){t.apply(i,r)},e)}function gr(t,e,r,n){var a=-1,u=qr,c=!0,h=t.length,p=[],m=e.length;if(!h)return p;r&&(e=Z(e,jt(r))),n?(u=Wn,c=!1):e.length>=_&&(u=cr,c=!1,e=new De(e));t:for(;++a<h;){var y=t[a],w=r==null?y:r(y);if(y=n||y!==0?y:0,c&&w===w){for(var C=m;C--;)if(e[C]===w)continue t;p.push(y)}else u(e,w,n)||p.push(y)}return p}var ye=Ra(Kt),oa=Ra(oi,!0);function Hh(t,e){var r=!0;return ye(t,function(n,a,u){return r=!!e(n,a,u),r}),r}function tn(t,e,r){for(var n=-1,a=t.length;++n<a;){var u=t[n],c=e(u);if(c!=null&&(h===i?c===c&&!Dt(c):r(c,h)))var h=c,p=u}return p}function qh(t,e,r,n){var a=t.length;for(r=R(r),r<0&&(r=-r>a?0:a+r),n=n===i||n>a?a:R(n),n<0&&(n+=a),n=r>n?0:Io(n);r<n;)t[r++]=e;return t}function ua(t,e){var r=[];return ye(t,function(n,a,u){e(n,a,u)&&r.push(n)}),r}function ft(t,e,r,n,a){var u=-1,c=t.length;for(r||(r=If),a||(a=[]);++u<c;){var h=t[u];e>0&&r(h)?e>1?ft(h,e-1,r,n,a):ge(a,h):n||(a[a.length]=h)}return a}var ai=$a(),ca=$a(!0);function Kt(t,e){return t&&ai(t,e,ct)}function oi(t,e){return t&&ca(t,e,ct)}function en(t,e){return ve(e,function(r){return ce(t[r])})}function Te(t,e){e=be(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Yt(e[r++])];return r&&r==n?t:i}function ha(t,e,r){var n=e(t);return T(t)?n:ge(n,r(t))}function mt(t){return t==null?t===i?fu:cu:je&&je in W(t)?yf(t):Tf(t)}function ui(t,e){return t>e}function kh(t,e){return t!=null&&z.call(t,e)}function Lh(t,e){return t!=null&&e in W(t)}function Mh(t,e,r){return t>=vt(e,r)&&t<at(e,r)}function ci(t,e,r){for(var n=r?Wn:qr,a=t[0].length,u=t.length,c=u,h=d(u),p=1/0,m=[];c--;){var y=t[c];c&&e&&(y=Z(y,jt(e))),p=vt(y.length,p),h[c]=!r&&(e||a>=120&&y.length>=120)?new De(c&&y):i}y=t[0];var w=-1,C=h[0];t:for(;++w<a&&m.length<p;){var A=y[w],x=e?e(A):A;if(A=r||A!==0?A:0,!(C?cr(C,x):n(m,x,r))){for(c=u;--c;){var H=h[c];if(!(H?cr(H,x):n(t[c],x,r)))continue t}C&&C.push(x),m.push(A)}}return m}function Bh(t,e,r,n){return Kt(t,function(a,u,c){e(n,r(a),u,c)}),n}function _r(t,e,r){e=be(e,t),t=Za(t,e);var n=t==null?t:t[Yt(Nt(e))];return n==null?i:Ot(n,t,r)}function fa(t){return tt(t)&&mt(t)==ke}function Nh(t){return tt(t)&&mt(t)==ur}function Fh(t){return tt(t)&&mt(t)==nr}function mr(t,e,r,n,a){return t===e?!0:t==null||e==null||!tt(t)&&!tt(e)?t!==t&&e!==e:Uh(t,e,r,n,mr,a)}function Uh(t,e,r,n,a,u){var c=T(t),h=T(e),p=c?xr:gt(t),m=h?xr:gt(e);p=p==ke?re:p,m=m==ke?re:m;var y=p==re,w=m==re,C=p==m;if(C&&Ee(t)){if(!Ee(e))return!1;c=!0,y=!1}if(C&&!y)return u||(u=new Jt),c||Ze(t)?za(t,e,r,n,a,u):_f(t,e,p,r,n,a,u);if(!(r&G)){var A=y&&z.call(t,"__wrapped__"),x=w&&z.call(e,"__wrapped__");if(A||x){var H=A?t.value():t,D=x?e.value():e;return u||(u=new Jt),a(H,D,r,n,u)}}return C?(u||(u=new Jt),mf(t,e,r,n,a,u)):!1}function zh(t){return tt(t)&&gt(t)==zt}function hi(t,e,r,n){var a=r.length,u=a,c=!n;if(t==null)return!u;for(t=W(t);a--;){var h=r[a];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++a<u;){h=r[a];var p=h[0],m=t[p],y=h[1];if(c&&h[2]){if(m===i&&!(p in t))return!1}else{var w=new Jt;if(n)var C=n(m,y,p,t,e,w);if(!(C===i?mr(y,m,G|pe,n,w):C))return!1}}return!0}function la(t){if(!X(t)||Of(t))return!1;var e=ce(t)?zc:$u;return e.test($e(t))}function Wh(t){return tt(t)&&mt(t)==sr}function Gh(t){return tt(t)&&gt(t)==Wt}function Jh(t){return tt(t)&&yn(t.length)&&!!V[mt(t)]}function pa(t){return typeof t=="function"?t:t==null?Ct:typeof t=="object"?T(t)?ga(t[0],t[1]):va(t):qo(t)}function fi(t){if(!br(t))return Kc(t);var e=[];for(var r in W(t))z.call(t,r)&&r!="constructor"&&e.push(r);return e}function Qh(t){if(!X(t))return Sf(t);var e=br(t),r=[];for(var n in t)n=="constructor"&&(e||!z.call(t,n))||r.push(n);return r}function li(t,e){return t<e}function da(t,e){var r=-1,n=Pt(t)?d(t.length):[];return ye(t,function(a,u,c){n[++r]=e(a,u,c)}),n}function va(t){var e=Oi(t);return e.length==1&&e[0][2]?Va(e[0][0],e[0][1]):function(r){return r===t||hi(r,t,e)}}function ga(t,e){return xi(t)&&Qa(e)?Va(Yt(t),e):function(r){var n=Mi(r,t);return n===i&&n===e?Bi(r,t):mr(e,n,G|pe)}}function rn(t,e,r,n,a){t!==e&&ai(e,function(u,c){if(a||(a=new Jt),X(u))Vh(t,e,c,r,rn,n,a);else{var h=n?n(Si(t,c),u,c+"",t,e,a):i;h===i&&(h=u),ii(t,c,h)}},Et)}function Vh(t,e,r,n,a,u,c){var h=Si(t,r),p=Si(e,r),m=c.get(p);if(m){ii(t,r,m);return}var y=u?u(h,p,r+"",t,e,c):i,w=y===i;if(w){var C=T(p),A=!C&&Ee(p),x=!C&&!A&&Ze(p);y=p,C||A||x?T(h)?y=h:et(h)?y=bt(h):A?(w=!1,y=ja(p,!0)):x?(w=!1,y=xa(p,!0)):y=[]:Er(p)||He(p)?(y=h,He(h)?y=Ao(h):(!X(h)||ce(h))&&(y=Ja(p))):w=!1}w&&(c.set(p,y),a(y,p,n,u,c),c.delete(p)),ii(t,r,y)}function _a(t,e){var r=t.length;if(r)return e+=e<0?r:0,ue(e,r)?t[e]:i}function ma(t,e,r){e.length?e=Z(e,function(u){return T(u)?function(c){return Te(c,u.length===1?u[0]:u)}:u}):e=[Ct];var n=-1;e=Z(e,jt(j()));var a=da(t,function(u,c,h){var p=Z(e,function(m){return m(u)});return{criteria:p,index:++n,value:u}});return Pc(a,function(u,c){return cf(u,c,r)})}function Kh(t,e){return ya(t,e,function(r,n){return Bi(t,n)})}function ya(t,e,r){for(var n=-1,a=e.length,u={};++n<a;){var c=e[n],h=Te(t,c);r(h,c)&&yr(u,be(c,t),h)}return u}function Zh(t){return function(e){return Te(e,t)}}function pi(t,e,r,n){var a=n?bc:Be,u=-1,c=e.length,h=t;for(t===e&&(e=bt(e)),r&&(h=Z(t,jt(r)));++u<c;)for(var p=0,m=e[u],y=r?r(m):m;(p=a(h,y,p,n))>-1;)h!==t&&Gr.call(h,p,1),Gr.call(t,p,1);return t}function wa(t,e){for(var r=t?e.length:0,n=r-1;r--;){var a=e[r];if(r==n||a!==u){var u=a;ue(a)?Gr.call(t,a,1):_i(t,a)}}return t}function di(t,e){return t+Vr(ta()*(e-t+1))}function Yh(t,e,r,n){for(var a=-1,u=at(Qr((e-t)/(r||1)),0),c=d(u);u--;)c[n?u:++a]=t,t+=r;return c}function vi(t,e){var r="";if(!t||e<1||e>J)return r;do e%2&&(r+=t),e=Vr(e/2),e&&(t+=t);while(e);return r}function q(t,e){return Ti(Ka(t,e,Ct),t+"")}function Xh(t){return na(Ye(t))}function tf(t,e){var r=Ye(t);return pn(r,Se(e,0,r.length))}function yr(t,e,r,n){if(!X(t))return t;e=be(e,t);for(var a=-1,u=e.length,c=u-1,h=t;h!=null&&++a<u;){var p=Yt(e[a]),m=r;if(p==="__proto__"||p==="constructor"||p==="prototype")return t;if(a!=c){var y=h[p];m=n?n(y,p,h):i,m===i&&(m=X(y)?y:ue(e[a+1])?[]:{})}vr(h,p,m),h=h[p]}return t}var ba=Kr?function(t,e){return Kr.set(t,e),t}:Ct,ef=Jr?function(t,e){return Jr(t,"toString",{configurable:!0,enumerable:!1,value:Fi(e),writable:!0})}:Ct;function rf(t){return pn(Ye(t))}function Bt(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var u=d(a);++n<a;)u[n]=t[n+e];return u}function nf(t,e){var r;return ye(t,function(n,a,u){return r=e(n,a,u),!r}),!!r}function nn(t,e,r){var n=0,a=t==null?n:t.length;if(typeof e=="number"&&e===e&&a<=su){for(;n<a;){var u=n+a>>>1,c=t[u];c!==null&&!Dt(c)&&(r?c<=e:c<e)?n=u+1:a=u}return a}return gi(t,e,Ct,r)}function gi(t,e,r,n){var a=0,u=t==null?0:t.length;if(u===0)return 0;e=r(e);for(var c=e!==e,h=e===null,p=Dt(e),m=e===i;a<u;){var y=Vr((a+u)/2),w=r(t[y]),C=w!==i,A=w===null,x=w===w,H=Dt(w);if(c)var D=n||x;else m?D=x&&(n||C):h?D=x&&C&&(n||!A):p?D=x&&C&&!A&&(n||!H):A||H?D=!1:D=n?w<=e:w<e;D?a=y+1:u=y}return vt(u,er)}function Pa(t,e){for(var r=-1,n=t.length,a=0,u=[];++r<n;){var c=t[r],h=e?e(c):c;if(!r||!Qt(h,p)){var p=h;u[a++]=c===0?0:c}}return u}function Ea(t){return typeof t=="number"?t:Dt(t)?ee:+t}function xt(t){if(typeof t=="string")return t;if(T(t))return Z(t,xt)+"";if(Dt(t))return ea?ea.call(t):"";var e=t+"";return e=="0"&&1/t==-K?"-0":e}function we(t,e,r){var n=-1,a=qr,u=t.length,c=!0,h=[],p=h;if(r)c=!1,a=Wn;else if(u>=_){var m=e?null:vf(t);if(m)return Lr(m);c=!1,a=cr,p=new De}else p=e?[]:h;t:for(;++n<u;){var y=t[n],w=e?e(y):y;if(y=r||y!==0?y:0,c&&w===w){for(var C=p.length;C--;)if(p[C]===w)continue t;e&&p.push(w),h.push(y)}else a(p,w,r)||(p!==h&&p.push(w),h.push(y))}return h}function _i(t,e){return e=be(e,t),t=Za(t,e),t==null||delete t[Yt(Nt(e))]}function Ca(t,e,r,n){return yr(t,e,r(Te(t,e)),n)}function sn(t,e,r,n){for(var a=t.length,u=n?a:-1;(n?u--:++u<a)&&e(t[u],u,t););return r?Bt(t,n?0:u,n?u+1:a):Bt(t,n?u+1:0,n?a:u)}function Ia(t,e){var r=t;return r instanceof L&&(r=r.value()),Gn(e,function(n,a){return a.func.apply(a.thisArg,ge([n],a.args))},r)}function mi(t,e,r){var n=t.length;if(n<2)return n?we(t[0]):[];for(var a=-1,u=d(n);++a<n;)for(var c=t[a],h=-1;++h<n;)h!=a&&(u[a]=gr(u[a]||c,t[h],e,r));return we(ft(u,1),e,r)}function Aa(t,e,r){for(var n=-1,a=t.length,u=e.length,c={};++n<a;){var h=n<u?e[n]:i;r(c,t[n],h)}return c}function yi(t){return et(t)?t:[]}function wi(t){return typeof t=="function"?t:Ct}function be(t,e){return T(t)?t:xi(t,e)?[t]:eo(F(t))}var sf=q;function Pe(t,e,r){var n=t.length;return r=r===i?n:r,!e&&r>=n?t:Bt(t,e,r)}var Oa=Wc||function(t){return ht.clearTimeout(t)};function ja(t,e){if(e)return t.slice();var r=t.length,n=Vs?Vs(r):new t.constructor(r);return t.copy(n),n}function bi(t){var e=new t.constructor(t.byteLength);return new zr(e).set(new zr(t)),e}function af(t,e){var r=e?bi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function of(t){var e=new t.constructor(t.source,fs.exec(t));return e.lastIndex=t.lastIndex,e}function uf(t){return dr?W(dr.call(t)):{}}function xa(t,e){var r=e?bi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Da(t,e){if(t!==e){var r=t!==i,n=t===null,a=t===t,u=Dt(t),c=e!==i,h=e===null,p=e===e,m=Dt(e);if(!h&&!m&&!u&&t>e||u&&c&&p&&!h&&!m||n&&c&&p||!r&&p||!a)return 1;if(!n&&!u&&!m&&t<e||m&&r&&a&&!n&&!u||h&&r&&a||!c&&a||!p)return-1}return 0}function cf(t,e,r){for(var n=-1,a=t.criteria,u=e.criteria,c=a.length,h=r.length;++n<c;){var p=Da(a[n],u[n]);if(p){if(n>=h)return p;var m=r[n];return p*(m=="desc"?-1:1)}}return t.index-e.index}function Sa(t,e,r,n){for(var a=-1,u=t.length,c=r.length,h=-1,p=e.length,m=at(u-c,0),y=d(p+m),w=!n;++h<p;)y[h]=e[h];for(;++a<c;)(w||a<u)&&(y[r[a]]=t[a]);for(;m--;)y[h++]=t[a++];return y}function Ta(t,e,r,n){for(var a=-1,u=t.length,c=-1,h=r.length,p=-1,m=e.length,y=at(u-h,0),w=d(y+m),C=!n;++a<y;)w[a]=t[a];for(var A=a;++p<m;)w[A+p]=e[p];for(;++c<h;)(C||a<u)&&(w[A+r[c]]=t[a++]);return w}function bt(t,e){var r=-1,n=t.length;for(e||(e=d(n));++r<n;)e[r]=t[r];return e}function Zt(t,e,r,n){var a=!r;r||(r={});for(var u=-1,c=e.length;++u<c;){var h=e[u],p=n?n(r[h],t[h],h,r,t):i;p===i&&(p=t[h]),a?se(r,h,p):vr(r,h,p)}return r}function hf(t,e){return Zt(t,ji(t),e)}function ff(t,e){return Zt(t,Wa(t),e)}function an(t,e){return function(r,n){var a=T(r)?vc:Th,u=e?e():{};return a(r,t,j(n,2),u)}}function Qe(t){return q(function(e,r){var n=-1,a=r.length,u=a>1?r[a-1]:i,c=a>2?r[2]:i;for(u=t.length>3&&typeof u=="function"?(a--,u):i,c&&yt(r[0],r[1],c)&&(u=a<3?i:u,a=1),e=W(e);++n<a;){var h=r[n];h&&t(e,h,n,u)}return e})}function Ra(t,e){return function(r,n){if(r==null)return r;if(!Pt(r))return t(r,n);for(var a=r.length,u=e?a:-1,c=W(r);(e?u--:++u<a)&&n(c[u],u,c)!==!1;);return r}}function $a(t){return function(e,r,n){for(var a=-1,u=W(e),c=n(e),h=c.length;h--;){var p=c[t?h:++a];if(r(u[p],p,u)===!1)break}return e}}function lf(t,e,r){var n=e&_t,a=wr(t);function u(){var c=this&&this!==ht&&this instanceof u?a:t;return c.apply(n?r:this,arguments)}return u}function Ha(t){return function(e){e=F(e);var r=Ne(e)?Gt(e):i,n=r?r[0]:e.charAt(0),a=r?Pe(r,1).join(""):e.slice(1);return n[t]()+a}}function Ve(t){return function(e){return Gn($o(Ro(e).replace(ec,"")),t,"")}}function wr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Je(t.prototype),n=t.apply(r,e);return X(n)?n:r}}function pf(t,e,r){var n=wr(t);function a(){for(var u=arguments.length,c=d(u),h=u,p=Ke(a);h--;)c[h]=arguments[h];var m=u<3&&c[0]!==p&&c[u-1]!==p?[]:_e(c,p);if(u-=m.length,u<r)return Ba(t,e,on,a.placeholder,i,c,m,i,i,r-u);var y=this&&this!==ht&&this instanceof a?n:t;return Ot(y,this,c)}return a}function qa(t){return function(e,r,n){var a=W(e);if(!Pt(e)){var u=j(r,3);e=ct(e),r=function(h){return u(a[h],h,a)}}var c=t(e,r,n);return c>-1?a[u?e[c]:c]:i}}function ka(t){return oe(function(e){var r=e.length,n=r,a=Lt.prototype.thru;for(t&&e.reverse();n--;){var u=e[n];if(typeof u!="function")throw new kt(O);if(a&&!c&&fn(u)=="wrapper")var c=new Lt([],!0)}for(n=c?n:r;++n<r;){u=e[n];var h=fn(u),p=h=="wrapper"?Ai(u):i;p&&Di(p[0])&&p[1]==(Ut|Rt|It|At)&&!p[4].length&&p[9]==1?c=c[fn(p[0])].apply(c,p[3]):c=u.length==1&&Di(u)?c[h]():c.thru(u)}return function(){var m=arguments,y=m[0];if(c&&m.length==1&&T(y))return c.plant(y).value();for(var w=0,C=r?e[w].apply(this,m):y;++w<r;)C=e[w].call(this,C);return C}})}function on(t,e,r,n,a,u,c,h,p,m){var y=e&Ut,w=e&_t,C=e&Xt,A=e&(Rt|te),x=e&Xe,H=C?i:wr(t);function D(){for(var k=arguments.length,M=d(k),St=k;St--;)M[St]=arguments[St];if(A)var wt=Ke(D),Tt=Cc(M,wt);if(n&&(M=Sa(M,n,a,A)),u&&(M=Ta(M,u,c,A)),k-=Tt,A&&k<m){var rt=_e(M,wt);return Ba(t,e,on,D.placeholder,r,M,rt,h,p,m-k)}var Vt=w?r:this,fe=C?Vt[t]:t;return k=M.length,h?M=Rf(M,h):x&&k>1&&M.reverse(),y&&p<k&&(M.length=p),this&&this!==ht&&this instanceof D&&(fe=H||wr(fe)),fe.apply(Vt,M)}return D}function La(t,e){return function(r,n){return Bh(r,t,e(n),{})}}function un(t,e){return function(r,n){var a;if(r===i&&n===i)return e;if(r!==i&&(a=r),n!==i){if(a===i)return n;typeof r=="string"||typeof n=="string"?(r=xt(r),n=xt(n)):(r=Ea(r),n=Ea(n)),a=t(r,n)}return a}}function Pi(t){return oe(function(e){return e=Z(e,jt(j())),q(function(r){var n=this;return t(e,function(a){return Ot(a,n,r)})})})}function cn(t,e){e=e===i?" ":xt(e);var r=e.length;if(r<2)return r?vi(e,t):e;var n=vi(e,Qr(t/Fe(e)));return Ne(e)?Pe(Gt(n),0,t).join(""):n.slice(0,t)}function df(t,e,r,n){var a=e&_t,u=wr(t);function c(){for(var h=-1,p=arguments.length,m=-1,y=n.length,w=d(y+p),C=this&&this!==ht&&this instanceof c?u:t;++m<y;)w[m]=n[m];for(;p--;)w[m++]=arguments[++h];return Ot(C,a?r:this,w)}return c}function Ma(t){return function(e,r,n){return n&&typeof n!="number"&&yt(e,r,n)&&(r=n=i),e=he(e),r===i?(r=e,e=0):r=he(r),n=n===i?e<r?1:-1:he(n),Yh(e,r,n,t)}}function hn(t){return function(e,r){return typeof e=="string"&&typeof r=="string"||(e=Ft(e),r=Ft(r)),t(e,r)}}function Ba(t,e,r,n,a,u,c,h,p,m){var y=e&Rt,w=y?c:i,C=y?i:c,A=y?u:i,x=y?i:u;e|=y?It:de,e&=~(y?de:It),e&jr||(e&=~(_t|Xt));var H=[t,e,a,A,w,x,C,h,p,m],D=r.apply(i,H);return Di(t)&&Ya(D,H),D.placeholder=n,Xa(D,t,e)}function Ei(t){var e=st[t];return function(r,n){if(r=Ft(r),n=n==null?0:vt(R(n),292),n&&Xs(r)){var a=(F(r)+"e").split("e"),u=e(a[0]+"e"+(+a[1]+n));return a=(F(u)+"e").split("e"),+(a[0]+"e"+(+a[1]-n))}return e(r)}}var vf=We&&1/Lr(new We([,-0]))[1]==K?function(t){return new We(t)}:Wi;function Na(t){return function(e){var r=gt(e);return r==zt?Xn(e):r==Wt?Sc(e):Ec(e,t(e))}}function ae(t,e,r,n,a,u,c,h){var p=e&Xt;if(!p&&typeof t!="function")throw new kt(O);var m=n?n.length:0;if(m||(e&=~(It|de),n=a=i),c=c===i?c:at(R(c),0),h=h===i?h:R(h),m-=a?a.length:0,e&de){var y=n,w=a;n=a=i}var C=p?i:Ai(t),A=[t,e,r,n,a,y,w,u,c,h];if(C&&Df(A,C),t=A[0],e=A[1],r=A[2],n=A[3],a=A[4],h=A[9]=A[9]===i?p?0:t.length:at(A[9]-m,0),!h&&e&(Rt|te)&&(e&=~(Rt|te)),!e||e==_t)var x=lf(t,e,r);else e==Rt||e==te?x=pf(t,e,h):(e==It||e==(_t|It))&&!a.length?x=df(t,e,r,n):x=on.apply(i,A);var H=C?ba:Ya;return Xa(H(x,A),t,e)}function Fa(t,e,r,n){return t===i||Qt(t,ze[r])&&!z.call(n,r)?e:t}function Ua(t,e,r,n,a,u){return X(t)&&X(e)&&(u.set(e,t),rn(t,e,i,Ua,u),u.delete(e)),t}function gf(t){return Er(t)?i:t}function za(t,e,r,n,a,u){var c=r&G,h=t.length,p=e.length;if(h!=p&&!(c&&p>h))return!1;var m=u.get(t),y=u.get(e);if(m&&y)return m==e&&y==t;var w=-1,C=!0,A=r&pe?new De:i;for(u.set(t,e),u.set(e,t);++w<h;){var x=t[w],H=e[w];if(n)var D=c?n(H,x,w,e,t,u):n(x,H,w,t,e,u);if(D!==i){if(D)continue;C=!1;break}if(A){if(!Jn(e,function(k,M){if(!cr(A,M)&&(x===k||a(x,k,r,n,u)))return A.push(M)})){C=!1;break}}else if(!(x===H||a(x,H,r,n,u))){C=!1;break}}return u.delete(t),u.delete(e),C}function _f(t,e,r,n,a,u,c){switch(r){case Le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ur:return!(t.byteLength!=e.byteLength||!u(new zr(t),new zr(e)));case rr:case nr:case ir:return Qt(+t,+e);case Dr:return t.name==e.name&&t.message==e.message;case sr:case ar:return t==e+"";case zt:var h=Xn;case Wt:var p=n&G;if(h||(h=Lr),t.size!=e.size&&!p)return!1;var m=c.get(t);if(m)return m==e;n|=pe,c.set(t,e);var y=za(h(t),h(e),n,a,u,c);return c.delete(t),y;case Tr:if(dr)return dr.call(t)==dr.call(e)}return!1}function mf(t,e,r,n,a,u){var c=r&G,h=Ci(t),p=h.length,m=Ci(e),y=m.length;if(p!=y&&!c)return!1;for(var w=p;w--;){var C=h[w];if(!(c?C in e:z.call(e,C)))return!1}var A=u.get(t),x=u.get(e);if(A&&x)return A==e&&x==t;var H=!0;u.set(t,e),u.set(e,t);for(var D=c;++w<p;){C=h[w];var k=t[C],M=e[C];if(n)var St=c?n(M,k,C,e,t,u):n(k,M,C,t,e,u);if(!(St===i?k===M||a(k,M,r,n,u):St)){H=!1;break}D||(D=C=="constructor")}if(H&&!D){var wt=t.constructor,Tt=e.constructor;wt!=Tt&&"constructor"in t&&"constructor"in e&&!(typeof wt=="function"&&wt instanceof wt&&typeof Tt=="function"&&Tt instanceof Tt)&&(H=!1)}return u.delete(t),u.delete(e),H}function oe(t){return Ti(Ka(t,i,so),t+"")}function Ci(t){return ha(t,ct,ji)}function Ii(t){return ha(t,Et,Wa)}var Ai=Kr?function(t){return Kr.get(t)}:Wi;function fn(t){for(var e=t.name+"",r=Ge[e],n=z.call(Ge,e)?r.length:0;n--;){var a=r[n],u=a.func;if(u==null||u==t)return a.name}return e}function Ke(t){var e=z.call(o,"placeholder")?o:t;return e.placeholder}function j(){var t=o.iteratee||Ui;return t=t===Ui?pa:t,arguments.length?t(arguments[0],arguments[1]):t}function ln(t,e){var r=t.__data__;return Af(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Oi(t){for(var e=ct(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,Qa(a)]}return e}function Re(t,e){var r=jc(t,e);return la(r)?r:i}function yf(t){var e=z.call(t,je),r=t[je];try{t[je]=i;var n=!0}catch{}var a=Fr.call(t);return n&&(e?t[je]=r:delete t[je]),a}var ji=ei?function(t){return t==null?[]:(t=W(t),ve(ei(t),function(e){return Zs.call(t,e)}))}:Gi,Wa=ei?function(t){for(var e=[];t;)ge(e,ji(t)),t=Wr(t);return e}:Gi,gt=mt;(ri&&gt(new ri(new ArrayBuffer(1)))!=Le||fr&&gt(new fr)!=zt||ni&&gt(ni.resolve())!=os||We&&gt(new We)!=Wt||lr&&gt(new lr)!=or)&&(gt=function(t){var e=mt(t),r=e==re?t.constructor:i,n=r?$e(r):"";if(n)switch(n){case th:return Le;case eh:return zt;case rh:return os;case nh:return Wt;case ih:return or}return e});function wf(t,e,r){for(var n=-1,a=r.length;++n<a;){var u=r[n],c=u.size;switch(u.type){case"drop":t+=c;break;case"dropRight":e-=c;break;case"take":e=vt(e,t+c);break;case"takeRight":t=at(t,e-c);break}}return{start:t,end:e}}function bf(t){var e=t.match(Au);return e?e[1].split(Ou):[]}function Ga(t,e,r){e=be(e,t);for(var n=-1,a=e.length,u=!1;++n<a;){var c=Yt(e[n]);if(!(u=t!=null&&r(t,c)))break;t=t[c]}return u||++n!=a?u:(a=t==null?0:t.length,!!a&&yn(a)&&ue(c,a)&&(T(t)||He(t)))}function Pf(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&z.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Ja(t){return typeof t.constructor=="function"&&!br(t)?Je(Wr(t)):{}}function Ef(t,e,r){var n=t.constructor;switch(e){case ur:return bi(t);case rr:case nr:return new n(+t);case Le:return af(t,r);case On:case jn:case xn:case Dn:case Sn:case Tn:case Rn:case $n:case Hn:return xa(t,r);case zt:return new n;case ir:case ar:return new n(t);case sr:return of(t);case Wt:return new n;case Tr:return uf(t)}}function Cf(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(Iu,`{
/* [wrapped with `+e+`] */
`)}function If(t){return T(t)||He(t)||!!(Ys&&t&&t[Ys])}function ue(t,e){var r=typeof t;return e=e??J,!!e&&(r=="number"||r!="symbol"&&qu.test(t))&&t>-1&&t%1==0&&t<e}function yt(t,e,r){if(!X(r))return!1;var n=typeof e;return(n=="number"?Pt(r)&&ue(e,r.length):n=="string"&&e in r)?Qt(r[e],t):!1}function xi(t,e){if(T(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Dt(t)?!0:bu.test(t)||!wu.test(t)||e!=null&&t in W(e)}function Af(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Di(t){var e=fn(t),r=o[e];if(typeof r!="function"||!(e in L.prototype))return!1;if(t===r)return!0;var n=Ai(r);return!!n&&t===n[0]}function Of(t){return!!Qs&&Qs in t}var jf=Br?ce:Ji;function br(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ze;return t===r}function Qa(t){return t===t&&!X(t)}function Va(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==i||t in W(r))}}function xf(t){var e=_n(t,function(n){return r.size===it&&r.clear(),n}),r=e.cache;return e}function Df(t,e){var r=t[1],n=e[1],a=r|n,u=a<(_t|Xt|Ut),c=n==Ut&&r==Rt||n==Ut&&r==At&&t[7].length<=e[8]||n==(Ut|At)&&e[7].length<=e[8]&&r==Rt;if(!(u||c))return t;n&_t&&(t[2]=e[2],a|=r&_t?0:jr);var h=e[3];if(h){var p=t[3];t[3]=p?Sa(p,h,e[4]):h,t[4]=p?_e(t[3],lt):e[4]}return h=e[5],h&&(p=t[5],t[5]=p?Ta(p,h,e[6]):h,t[6]=p?_e(t[5],lt):e[6]),h=e[7],h&&(t[7]=h),n&Ut&&(t[8]=t[8]==null?e[8]:vt(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=a,t}function Sf(t){var e=[];if(t!=null)for(var r in W(t))e.push(r);return e}function Tf(t){return Fr.call(t)}function Ka(t,e,r){return e=at(e===i?t.length-1:e,0),function(){for(var n=arguments,a=-1,u=at(n.length-e,0),c=d(u);++a<u;)c[a]=n[e+a];a=-1;for(var h=d(e+1);++a<e;)h[a]=n[a];return h[e]=r(c),Ot(t,this,h)}}function Za(t,e){return e.length<2?t:Te(t,Bt(e,0,-1))}function Rf(t,e){for(var r=t.length,n=vt(e.length,r),a=bt(t);n--;){var u=e[n];t[n]=ue(u,r)?a[u]:i}return t}function Si(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Ya=to(ba),Pr=Jc||function(t,e){return ht.setTimeout(t,e)},Ti=to(ef);function Xa(t,e,r){var n=e+"";return Ti(t,Cf(n,$f(bf(n),r)))}function to(t){var e=0,r=0;return function(){var n=Zc(),a=tr-(n-r);if(r=n,a>0){if(++e>=An)return arguments[0]}else e=0;return t.apply(i,arguments)}}function pn(t,e){var r=-1,n=t.length,a=n-1;for(e=e===i?n:e;++r<e;){var u=di(r,a),c=t[u];t[u]=t[r],t[r]=c}return t.length=e,t}var eo=xf(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Pu,function(r,n,a,u){e.push(a?u.replace(Du,"$1"):n||r)}),e});function Yt(t){if(typeof t=="string"||Dt(t))return t;var e=t+"";return e=="0"&&1/t==-K?"-0":e}function $e(t){if(t!=null){try{return Nr.call(t)}catch{}try{return t+""}catch{}}return""}function $f(t,e){return qt(au,function(r){var n="_."+r[0];e&r[1]&&!qr(t,n)&&t.push(n)}),t.sort()}function ro(t){if(t instanceof L)return t.clone();var e=new Lt(t.__wrapped__,t.__chain__);return e.__actions__=bt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Hf(t,e,r){(r?yt(t,e,r):e===i)?e=1:e=at(R(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var a=0,u=0,c=d(Qr(n/e));a<n;)c[u++]=Bt(t,a,a+=e);return c}function qf(t){for(var e=-1,r=t==null?0:t.length,n=0,a=[];++e<r;){var u=t[e];u&&(a[n++]=u)}return a}function kf(){var t=arguments.length;if(!t)return[];for(var e=d(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return ge(T(r)?bt(r):[r],ft(e,1))}var Lf=q(function(t,e){return et(t)?gr(t,ft(e,1,et,!0)):[]}),Mf=q(function(t,e){var r=Nt(e);return et(r)&&(r=i),et(t)?gr(t,ft(e,1,et,!0),j(r,2)):[]}),Bf=q(function(t,e){var r=Nt(e);return et(r)&&(r=i),et(t)?gr(t,ft(e,1,et,!0),i,r):[]});function Nf(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===i?1:R(e),Bt(t,e<0?0:e,n)):[]}function Ff(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===i?1:R(e),e=n-e,Bt(t,0,e<0?0:e)):[]}function Uf(t,e){return t&&t.length?sn(t,j(e,3),!0,!0):[]}function zf(t,e){return t&&t.length?sn(t,j(e,3),!0):[]}function Wf(t,e,r,n){var a=t==null?0:t.length;return a?(r&&typeof r!="number"&&yt(t,e,r)&&(r=0,n=a),qh(t,e,r,n)):[]}function no(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:R(r);return a<0&&(a=at(n+a,0)),kr(t,j(e,3),a)}function io(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=n-1;return r!==i&&(a=R(r),a=r<0?at(n+a,0):vt(a,n-1)),kr(t,j(e,3),a,!0)}function so(t){var e=t==null?0:t.length;return e?ft(t,1):[]}function Gf(t){var e=t==null?0:t.length;return e?ft(t,K):[]}function Jf(t,e){var r=t==null?0:t.length;return r?(e=e===i?1:R(e),ft(t,e)):[]}function Qf(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var a=t[e];n[a[0]]=a[1]}return n}function ao(t){return t&&t.length?t[0]:i}function Vf(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:R(r);return a<0&&(a=at(n+a,0)),Be(t,e,a)}function Kf(t){var e=t==null?0:t.length;return e?Bt(t,0,-1):[]}var Zf=q(function(t){var e=Z(t,yi);return e.length&&e[0]===t[0]?ci(e):[]}),Yf=q(function(t){var e=Nt(t),r=Z(t,yi);return e===Nt(r)?e=i:r.pop(),r.length&&r[0]===t[0]?ci(r,j(e,2)):[]}),Xf=q(function(t){var e=Nt(t),r=Z(t,yi);return e=typeof e=="function"?e:i,e&&r.pop(),r.length&&r[0]===t[0]?ci(r,i,e):[]});function tl(t,e){return t==null?"":Vc.call(t,e)}function Nt(t){var e=t==null?0:t.length;return e?t[e-1]:i}function el(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=n;return r!==i&&(a=R(r),a=a<0?at(n+a,0):vt(a,n-1)),e===e?Rc(t,e,a):kr(t,Bs,a,!0)}function rl(t,e){return t&&t.length?_a(t,R(e)):i}var nl=q(oo);function oo(t,e){return t&&t.length&&e&&e.length?pi(t,e):t}function il(t,e,r){return t&&t.length&&e&&e.length?pi(t,e,j(r,2)):t}function sl(t,e,r){return t&&t.length&&e&&e.length?pi(t,e,i,r):t}var al=oe(function(t,e){var r=t==null?0:t.length,n=si(t,e);return wa(t,Z(e,function(a){return ue(a,r)?+a:a}).sort(Da)),n});function ol(t,e){var r=[];if(!(t&&t.length))return r;var n=-1,a=[],u=t.length;for(e=j(e,3);++n<u;){var c=t[n];e(c,n,t)&&(r.push(c),a.push(n))}return wa(t,a),r}function Ri(t){return t==null?t:Xc.call(t)}function ul(t,e,r){var n=t==null?0:t.length;return n?(r&&typeof r!="number"&&yt(t,e,r)?(e=0,r=n):(e=e==null?0:R(e),r=r===i?n:R(r)),Bt(t,e,r)):[]}function cl(t,e){return nn(t,e)}function hl(t,e,r){return gi(t,e,j(r,2))}function fl(t,e){var r=t==null?0:t.length;if(r){var n=nn(t,e);if(n<r&&Qt(t[n],e))return n}return-1}function ll(t,e){return nn(t,e,!0)}function pl(t,e,r){return gi(t,e,j(r,2),!0)}function dl(t,e){var r=t==null?0:t.length;if(r){var n=nn(t,e,!0)-1;if(Qt(t[n],e))return n}return-1}function vl(t){return t&&t.length?Pa(t):[]}function gl(t,e){return t&&t.length?Pa(t,j(e,2)):[]}function _l(t){var e=t==null?0:t.length;return e?Bt(t,1,e):[]}function ml(t,e,r){return t&&t.length?(e=r||e===i?1:R(e),Bt(t,0,e<0?0:e)):[]}function yl(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===i?1:R(e),e=n-e,Bt(t,e<0?0:e,n)):[]}function wl(t,e){return t&&t.length?sn(t,j(e,3),!1,!0):[]}function bl(t,e){return t&&t.length?sn(t,j(e,3)):[]}var Pl=q(function(t){return we(ft(t,1,et,!0))}),El=q(function(t){var e=Nt(t);return et(e)&&(e=i),we(ft(t,1,et,!0),j(e,2))}),Cl=q(function(t){var e=Nt(t);return e=typeof e=="function"?e:i,we(ft(t,1,et,!0),i,e)});function Il(t){return t&&t.length?we(t):[]}function Al(t,e){return t&&t.length?we(t,j(e,2)):[]}function Ol(t,e){return e=typeof e=="function"?e:i,t&&t.length?we(t,i,e):[]}function $i(t){if(!(t&&t.length))return[];var e=0;return t=ve(t,function(r){if(et(r))return e=at(r.length,e),!0}),Zn(e,function(r){return Z(t,Qn(r))})}function uo(t,e){if(!(t&&t.length))return[];var r=$i(t);return e==null?r:Z(r,function(n){return Ot(e,i,n)})}var jl=q(function(t,e){return et(t)?gr(t,e):[]}),xl=q(function(t){return mi(ve(t,et))}),Dl=q(function(t){var e=Nt(t);return et(e)&&(e=i),mi(ve(t,et),j(e,2))}),Sl=q(function(t){var e=Nt(t);return e=typeof e=="function"?e:i,mi(ve(t,et),i,e)}),Tl=q($i);function Rl(t,e){return Aa(t||[],e||[],vr)}function $l(t,e){return Aa(t||[],e||[],yr)}var Hl=q(function(t){var e=t.length,r=e>1?t[e-1]:i;return r=typeof r=="function"?(t.pop(),r):i,uo(t,r)});function co(t){var e=o(t);return e.__chain__=!0,e}function ql(t,e){return e(t),t}function dn(t,e){return e(t)}var kl=oe(function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,a=function(u){return si(u,t)};return e>1||this.__actions__.length||!(n instanceof L)||!ue(r)?this.thru(a):(n=n.slice(r,+r+(e?1:0)),n.__actions__.push({func:dn,args:[a],thisArg:i}),new Lt(n,this.__chain__).thru(function(u){return e&&!u.length&&u.push(i),u}))});function Ll(){return co(this)}function Ml(){return new Lt(this.value(),this.__chain__)}function Bl(){this.__values__===i&&(this.__values__=Co(this.value()));var t=this.__index__>=this.__values__.length,e=t?i:this.__values__[this.__index__++];return{done:t,value:e}}function Nl(){return this}function Fl(t){for(var e,r=this;r instanceof Yr;){var n=ro(r);n.__index__=0,n.__values__=i,e?a.__wrapped__=n:e=n;var a=n;r=r.__wrapped__}return a.__wrapped__=t,e}function Ul(){var t=this.__wrapped__;if(t instanceof L){var e=t;return this.__actions__.length&&(e=new L(this)),e=e.reverse(),e.__actions__.push({func:dn,args:[Ri],thisArg:i}),new Lt(e,this.__chain__)}return this.thru(Ri)}function zl(){return Ia(this.__wrapped__,this.__actions__)}var Wl=an(function(t,e,r){z.call(t,r)?++t[r]:se(t,r,1)});function Gl(t,e,r){var n=T(t)?Ls:Hh;return r&&yt(t,e,r)&&(e=i),n(t,j(e,3))}function Jl(t,e){var r=T(t)?ve:ua;return r(t,j(e,3))}var Ql=qa(no),Vl=qa(io);function Kl(t,e){return ft(vn(t,e),1)}function Zl(t,e){return ft(vn(t,e),K)}function Yl(t,e,r){return r=r===i?1:R(r),ft(vn(t,e),r)}function ho(t,e){var r=T(t)?qt:ye;return r(t,j(e,3))}function fo(t,e){var r=T(t)?gc:oa;return r(t,j(e,3))}var Xl=an(function(t,e,r){z.call(t,r)?t[r].push(e):se(t,r,[e])});function tp(t,e,r,n){t=Pt(t)?t:Ye(t),r=r&&!n?R(r):0;var a=t.length;return r<0&&(r=at(a+r,0)),wn(t)?r<=a&&t.indexOf(e,r)>-1:!!a&&Be(t,e,r)>-1}var ep=q(function(t,e,r){var n=-1,a=typeof e=="function",u=Pt(t)?d(t.length):[];return ye(t,function(c){u[++n]=a?Ot(e,c,r):_r(c,e,r)}),u}),rp=an(function(t,e,r){se(t,r,e)});function vn(t,e){var r=T(t)?Z:da;return r(t,j(e,3))}function np(t,e,r,n){return t==null?[]:(T(e)||(e=e==null?[]:[e]),r=n?i:r,T(r)||(r=r==null?[]:[r]),ma(t,e,r))}var ip=an(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});function sp(t,e,r){var n=T(t)?Gn:Fs,a=arguments.length<3;return n(t,j(e,4),r,a,ye)}function ap(t,e,r){var n=T(t)?_c:Fs,a=arguments.length<3;return n(t,j(e,4),r,a,oa)}function op(t,e){var r=T(t)?ve:ua;return r(t,mn(j(e,3)))}function up(t){var e=T(t)?na:Xh;return e(t)}function cp(t,e,r){(r?yt(t,e,r):e===i)?e=1:e=R(e);var n=T(t)?Dh:tf;return n(t,e)}function hp(t){var e=T(t)?Sh:rf;return e(t)}function fp(t){if(t==null)return 0;if(Pt(t))return wn(t)?Fe(t):t.length;var e=gt(t);return e==zt||e==Wt?t.size:fi(t).length}function lp(t,e,r){var n=T(t)?Jn:nf;return r&&yt(t,e,r)&&(e=i),n(t,j(e,3))}var pp=q(function(t,e){if(t==null)return[];var r=e.length;return r>1&&yt(t,e[0],e[1])?e=[]:r>2&&yt(e[0],e[1],e[2])&&(e=[e[0]]),ma(t,ft(e,1),[])}),gn=Gc||function(){return ht.Date.now()};function dp(t,e){if(typeof e!="function")throw new kt(O);return t=R(t),function(){if(--t<1)return e.apply(this,arguments)}}function lo(t,e,r){return e=r?i:e,e=t&&e==null?t.length:e,ae(t,Ut,i,i,i,i,e)}function po(t,e){var r;if(typeof e!="function")throw new kt(O);return t=R(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=i),r}}var Hi=q(function(t,e,r){var n=_t;if(r.length){var a=_e(r,Ke(Hi));n|=It}return ae(t,n,e,r,a)}),vo=q(function(t,e,r){var n=_t|Xt;if(r.length){var a=_e(r,Ke(vo));n|=It}return ae(e,n,t,r,a)});function go(t,e,r){e=r?i:e;var n=ae(t,Rt,i,i,i,i,i,e);return n.placeholder=go.placeholder,n}function _o(t,e,r){e=r?i:e;var n=ae(t,te,i,i,i,i,i,e);return n.placeholder=_o.placeholder,n}function mo(t,e,r){var n,a,u,c,h,p,m=0,y=!1,w=!1,C=!0;if(typeof t!="function")throw new kt(O);e=Ft(e)||0,X(r)&&(y=!!r.leading,w="maxWait"in r,u=w?at(Ft(r.maxWait)||0,e):u,C="trailing"in r?!!r.trailing:C);function A(rt){var Vt=n,fe=a;return n=a=i,m=rt,c=t.apply(fe,Vt),c}function x(rt){return m=rt,h=Pr(k,e),y?A(rt):c}function H(rt){var Vt=rt-p,fe=rt-m,ko=e-Vt;return w?vt(ko,u-fe):ko}function D(rt){var Vt=rt-p,fe=rt-m;return p===i||Vt>=e||Vt<0||w&&fe>=u}function k(){var rt=gn();if(D(rt))return M(rt);h=Pr(k,H(rt))}function M(rt){return h=i,C&&n?A(rt):(n=a=i,c)}function St(){h!==i&&Oa(h),m=0,n=p=a=h=i}function wt(){return h===i?c:M(gn())}function Tt(){var rt=gn(),Vt=D(rt);if(n=arguments,a=this,p=rt,Vt){if(h===i)return x(p);if(w)return Oa(h),h=Pr(k,e),A(p)}return h===i&&(h=Pr(k,e)),c}return Tt.cancel=St,Tt.flush=wt,Tt}var vp=q(function(t,e){return aa(t,1,e)}),gp=q(function(t,e,r){return aa(t,Ft(e)||0,r)});function _p(t){return ae(t,Xe)}function _n(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new kt(O);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],u=r.cache;if(u.has(a))return u.get(a);var c=t.apply(this,n);return r.cache=u.set(a,c)||u,c};return r.cache=new(_n.Cache||ie),r}_n.Cache=ie;function mn(t){if(typeof t!="function")throw new kt(O);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function mp(t){return po(2,t)}var yp=sf(function(t,e){e=e.length==1&&T(e[0])?Z(e[0],jt(j())):Z(ft(e,1),jt(j()));var r=e.length;return q(function(n){for(var a=-1,u=vt(n.length,r);++a<u;)n[a]=e[a].call(this,n[a]);return Ot(t,this,n)})}),qi=q(function(t,e){var r=_e(e,Ke(qi));return ae(t,It,i,e,r)}),yo=q(function(t,e){var r=_e(e,Ke(yo));return ae(t,de,i,e,r)}),wp=oe(function(t,e){return ae(t,At,i,i,i,e)});function bp(t,e){if(typeof t!="function")throw new kt(O);return e=e===i?e:R(e),q(t,e)}function Pp(t,e){if(typeof t!="function")throw new kt(O);return e=e==null?0:at(R(e),0),q(function(r){var n=r[e],a=Pe(r,0,e);return n&&ge(a,n),Ot(t,this,a)})}function Ep(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new kt(O);return X(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),mo(t,e,{leading:n,maxWait:e,trailing:a})}function Cp(t){return lo(t,1)}function Ip(t,e){return qi(wi(e),t)}function Ap(){if(!arguments.length)return[];var t=arguments[0];return T(t)?t:[t]}function Op(t){return Mt(t,ut)}function jp(t,e){return e=typeof e=="function"?e:i,Mt(t,ut,e)}function xp(t){return Mt(t,nt|ut)}function Dp(t,e){return e=typeof e=="function"?e:i,Mt(t,nt|ut,e)}function Sp(t,e){return e==null||sa(t,e,ct(e))}function Qt(t,e){return t===e||t!==t&&e!==e}var Tp=hn(ui),Rp=hn(function(t,e){return t>=e}),He=fa(function(){return arguments}())?fa:function(t){return tt(t)&&z.call(t,"callee")&&!Zs.call(t,"callee")},T=d.isArray,$p=Ts?jt(Ts):Nh;function Pt(t){return t!=null&&yn(t.length)&&!ce(t)}function et(t){return tt(t)&&Pt(t)}function Hp(t){return t===!0||t===!1||tt(t)&&mt(t)==rr}var Ee=Qc||Ji,qp=Rs?jt(Rs):Fh;function kp(t){return tt(t)&&t.nodeType===1&&!Er(t)}function Lp(t){if(t==null)return!0;if(Pt(t)&&(T(t)||typeof t=="string"||typeof t.splice=="function"||Ee(t)||Ze(t)||He(t)))return!t.length;var e=gt(t);if(e==zt||e==Wt)return!t.size;if(br(t))return!fi(t).length;for(var r in t)if(z.call(t,r))return!1;return!0}function Mp(t,e){return mr(t,e)}function Bp(t,e,r){r=typeof r=="function"?r:i;var n=r?r(t,e):i;return n===i?mr(t,e,i,r):!!n}function ki(t){if(!tt(t))return!1;var e=mt(t);return e==Dr||e==uu||typeof t.message=="string"&&typeof t.name=="string"&&!Er(t)}function Np(t){return typeof t=="number"&&Xs(t)}function ce(t){if(!X(t))return!1;var e=mt(t);return e==Sr||e==as||e==ou||e==hu}function wo(t){return typeof t=="number"&&t==R(t)}function yn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=J}function X(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function tt(t){return t!=null&&typeof t=="object"}var bo=$s?jt($s):zh;function Fp(t,e){return t===e||hi(t,e,Oi(e))}function Up(t,e,r){return r=typeof r=="function"?r:i,hi(t,e,Oi(e),r)}function zp(t){return Po(t)&&t!=+t}function Wp(t){if(jf(t))throw new S(b);return la(t)}function Gp(t){return t===null}function Jp(t){return t==null}function Po(t){return typeof t=="number"||tt(t)&&mt(t)==ir}function Er(t){if(!tt(t)||mt(t)!=re)return!1;var e=Wr(t);if(e===null)return!0;var r=z.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Nr.call(r)==Fc}var Li=Hs?jt(Hs):Wh;function Qp(t){return wo(t)&&t>=-J&&t<=J}var Eo=qs?jt(qs):Gh;function wn(t){return typeof t=="string"||!T(t)&&tt(t)&&mt(t)==ar}function Dt(t){return typeof t=="symbol"||tt(t)&&mt(t)==Tr}var Ze=ks?jt(ks):Jh;function Vp(t){return t===i}function Kp(t){return tt(t)&&gt(t)==or}function Zp(t){return tt(t)&&mt(t)==lu}var Yp=hn(li),Xp=hn(function(t,e){return t<=e});function Co(t){if(!t)return[];if(Pt(t))return wn(t)?Gt(t):bt(t);if(hr&&t[hr])return Dc(t[hr]());var e=gt(t),r=e==zt?Xn:e==Wt?Lr:Ye;return r(t)}function he(t){if(!t)return t===0?t:0;if(t=Ft(t),t===K||t===-K){var e=t<0?-1:1;return e*U}return t===t?t:0}function R(t){var e=he(t),r=e%1;return e===e?r?e-r:e:0}function Io(t){return t?Se(R(t),0,dt):0}function Ft(t){if(typeof t=="number")return t;if(Dt(t))return ee;if(X(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=X(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Us(t);var r=Ru.test(t);return r||Hu.test(t)?pc(t.slice(2),r?2:8):Tu.test(t)?ee:+t}function Ao(t){return Zt(t,Et(t))}function td(t){return t?Se(R(t),-J,J):t===0?t:0}function F(t){return t==null?"":xt(t)}var ed=Qe(function(t,e){if(br(e)||Pt(e)){Zt(e,ct(e),t);return}for(var r in e)z.call(e,r)&&vr(t,r,e[r])}),Oo=Qe(function(t,e){Zt(e,Et(e),t)}),bn=Qe(function(t,e,r,n){Zt(e,Et(e),t,n)}),rd=Qe(function(t,e,r,n){Zt(e,ct(e),t,n)}),nd=oe(si);function id(t,e){var r=Je(t);return e==null?r:ia(r,e)}var sd=q(function(t,e){t=W(t);var r=-1,n=e.length,a=n>2?e[2]:i;for(a&&yt(e[0],e[1],a)&&(n=1);++r<n;)for(var u=e[r],c=Et(u),h=-1,p=c.length;++h<p;){var m=c[h],y=t[m];(y===i||Qt(y,ze[m])&&!z.call(t,m))&&(t[m]=u[m])}return t}),ad=q(function(t){return t.push(i,Ua),Ot(jo,i,t)});function od(t,e){return Ms(t,j(e,3),Kt)}function ud(t,e){return Ms(t,j(e,3),oi)}function cd(t,e){return t==null?t:ai(t,j(e,3),Et)}function hd(t,e){return t==null?t:ca(t,j(e,3),Et)}function fd(t,e){return t&&Kt(t,j(e,3))}function ld(t,e){return t&&oi(t,j(e,3))}function pd(t){return t==null?[]:en(t,ct(t))}function dd(t){return t==null?[]:en(t,Et(t))}function Mi(t,e,r){var n=t==null?i:Te(t,e);return n===i?r:n}function vd(t,e){return t!=null&&Ga(t,e,kh)}function Bi(t,e){return t!=null&&Ga(t,e,Lh)}var gd=La(function(t,e,r){e!=null&&typeof e.toString!="function"&&(e=Fr.call(e)),t[e]=r},Fi(Ct)),_d=La(function(t,e,r){e!=null&&typeof e.toString!="function"&&(e=Fr.call(e)),z.call(t,e)?t[e].push(r):t[e]=[r]},j),md=q(_r);function ct(t){return Pt(t)?ra(t):fi(t)}function Et(t){return Pt(t)?ra(t,!0):Qh(t)}function yd(t,e){var r={};return e=j(e,3),Kt(t,function(n,a,u){se(r,e(n,a,u),n)}),r}function wd(t,e){var r={};return e=j(e,3),Kt(t,function(n,a,u){se(r,a,e(n,a,u))}),r}var bd=Qe(function(t,e,r){rn(t,e,r)}),jo=Qe(function(t,e,r,n){rn(t,e,r,n)}),Pd=oe(function(t,e){var r={};if(t==null)return r;var n=!1;e=Z(e,function(u){return u=be(u,t),n||(n=u.length>1),u}),Zt(t,Ii(t),r),n&&(r=Mt(r,nt|pt|ut,gf));for(var a=e.length;a--;)_i(r,e[a]);return r});function Ed(t,e){return xo(t,mn(j(e)))}var Cd=oe(function(t,e){return t==null?{}:Kh(t,e)});function xo(t,e){if(t==null)return{};var r=Z(Ii(t),function(n){return[n]});return e=j(e),ya(t,r,function(n,a){return e(n,a[0])})}function Id(t,e,r){e=be(e,t);var n=-1,a=e.length;for(a||(a=1,t=i);++n<a;){var u=t==null?i:t[Yt(e[n])];u===i&&(n=a,u=r),t=ce(u)?u.call(t):u}return t}function Ad(t,e,r){return t==null?t:yr(t,e,r)}function Od(t,e,r,n){return n=typeof n=="function"?n:i,t==null?t:yr(t,e,r,n)}var Do=Na(ct),So=Na(Et);function jd(t,e,r){var n=T(t),a=n||Ee(t)||Ze(t);if(e=j(e,4),r==null){var u=t&&t.constructor;a?r=n?new u:[]:X(t)?r=ce(u)?Je(Wr(t)):{}:r={}}return(a?qt:Kt)(t,function(c,h,p){return e(r,c,h,p)}),r}function xd(t,e){return t==null?!0:_i(t,e)}function Dd(t,e,r){return t==null?t:Ca(t,e,wi(r))}function Sd(t,e,r,n){return n=typeof n=="function"?n:i,t==null?t:Ca(t,e,wi(r),n)}function Ye(t){return t==null?[]:Yn(t,ct(t))}function Td(t){return t==null?[]:Yn(t,Et(t))}function Rd(t,e,r){return r===i&&(r=e,e=i),r!==i&&(r=Ft(r),r=r===r?r:0),e!==i&&(e=Ft(e),e=e===e?e:0),Se(Ft(t),e,r)}function $d(t,e,r){return e=he(e),r===i?(r=e,e=0):r=he(r),t=Ft(t),Mh(t,e,r)}function Hd(t,e,r){if(r&&typeof r!="boolean"&&yt(t,e,r)&&(e=r=i),r===i&&(typeof e=="boolean"?(r=e,e=i):typeof t=="boolean"&&(r=t,t=i)),t===i&&e===i?(t=0,e=1):(t=he(t),e===i?(e=t,t=0):e=he(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var a=ta();return vt(t+a*(e-t+lc("1e-"+((a+"").length-1))),e)}return di(t,e)}var qd=Ve(function(t,e,r){return e=e.toLowerCase(),t+(r?To(e):e)});function To(t){return Ni(F(t).toLowerCase())}function Ro(t){return t=F(t),t&&t.replace(ku,Ic).replace(rc,"")}function kd(t,e,r){t=F(t),e=xt(e);var n=t.length;r=r===i?n:Se(R(r),0,n);var a=r;return r-=e.length,r>=0&&t.slice(r,a)==e}function Ld(t){return t=F(t),t&&_u.test(t)?t.replace(cs,Ac):t}function Md(t){return t=F(t),t&&Eu.test(t)?t.replace(qn,"\\$&"):t}var Bd=Ve(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),Nd=Ve(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),Fd=Ha("toLowerCase");function Ud(t,e,r){t=F(t),e=R(e);var n=e?Fe(t):0;if(!e||n>=e)return t;var a=(e-n)/2;return cn(Vr(a),r)+t+cn(Qr(a),r)}function zd(t,e,r){t=F(t),e=R(e);var n=e?Fe(t):0;return e&&n<e?t+cn(e-n,r):t}function Wd(t,e,r){t=F(t),e=R(e);var n=e?Fe(t):0;return e&&n<e?cn(e-n,r)+t:t}function Gd(t,e,r){return r||e==null?e=0:e&&(e=+e),Yc(F(t).replace(kn,""),e||0)}function Jd(t,e,r){return(r?yt(t,e,r):e===i)?e=1:e=R(e),vi(F(t),e)}function Qd(){var t=arguments,e=F(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var Vd=Ve(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});function Kd(t,e,r){return r&&typeof r!="number"&&yt(t,e,r)&&(e=r=i),r=r===i?dt:r>>>0,r?(t=F(t),t&&(typeof e=="string"||e!=null&&!Li(e))&&(e=xt(e),!e&&Ne(t))?Pe(Gt(t),0,r):t.split(e,r)):[]}var Zd=Ve(function(t,e,r){return t+(r?" ":"")+Ni(e)});function Yd(t,e,r){return t=F(t),r=r==null?0:Se(R(r),0,t.length),e=xt(e),t.slice(r,r+e.length)==e}function Xd(t,e,r){var n=o.templateSettings;r&&yt(t,e,r)&&(e=i),t=F(t),e=bn({},e,n,Fa);var a=bn({},e.imports,n.imports,Fa),u=ct(a),c=Yn(a,u),h,p,m=0,y=e.interpolate||Rr,w="__p += '",C=ti((e.escape||Rr).source+"|"+y.source+"|"+(y===hs?Su:Rr).source+"|"+(e.evaluate||Rr).source+"|$","g"),A="//# sourceURL="+(z.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oc+"]")+`
`;t.replace(C,function(D,k,M,St,wt,Tt){return M||(M=St),w+=t.slice(m,Tt).replace(Lu,Oc),k&&(h=!0,w+=`' +
__e(`+k+`) +
'`),wt&&(p=!0,w+=`';
`+wt+`;
__p += '`),M&&(w+=`' +
((__t = (`+M+`)) == null ? '' : __t) +
'`),m=Tt+D.length,D}),w+=`';
`;var x=z.call(e,"variable")&&e.variable;if(!x)w=`with (obj) {
`+w+`
}
`;else if(xu.test(x))throw new S(B);w=(p?w.replace(pu,""):w).replace(du,"$1").replace(vu,"$1;"),w="function("+(x||"obj")+`) {
`+(x?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(h?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+w+`return __p
}`;var H=Ho(function(){return N(u,A+"return "+w).apply(i,c)});if(H.source=w,ki(H))throw H;return H}function tv(t){return F(t).toLowerCase()}function ev(t){return F(t).toUpperCase()}function rv(t,e,r){if(t=F(t),t&&(r||e===i))return Us(t);if(!t||!(e=xt(e)))return t;var n=Gt(t),a=Gt(e),u=zs(n,a),c=Ws(n,a)+1;return Pe(n,u,c).join("")}function nv(t,e,r){if(t=F(t),t&&(r||e===i))return t.slice(0,Js(t)+1);if(!t||!(e=xt(e)))return t;var n=Gt(t),a=Ws(n,Gt(e))+1;return Pe(n,0,a).join("")}function iv(t,e,r){if(t=F(t),t&&(r||e===i))return t.replace(kn,"");if(!t||!(e=xt(e)))return t;var n=Gt(t),a=zs(n,Gt(e));return Pe(n,a).join("")}function sv(t,e){var r=In,n=$t;if(X(e)){var a="separator"in e?e.separator:a;r="length"in e?R(e.length):r,n="omission"in e?xt(e.omission):n}t=F(t);var u=t.length;if(Ne(t)){var c=Gt(t);u=c.length}if(r>=u)return t;var h=r-Fe(n);if(h<1)return n;var p=c?Pe(c,0,h).join(""):t.slice(0,h);if(a===i)return p+n;if(c&&(h+=p.length-h),Li(a)){if(t.slice(h).search(a)){var m,y=p;for(a.global||(a=ti(a.source,F(fs.exec(a))+"g")),a.lastIndex=0;m=a.exec(y);)var w=m.index;p=p.slice(0,w===i?h:w)}}else if(t.indexOf(xt(a),h)!=h){var C=p.lastIndexOf(a);C>-1&&(p=p.slice(0,C))}return p+n}function av(t){return t=F(t),t&&gu.test(t)?t.replace(us,$c):t}var ov=Ve(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),Ni=Ha("toUpperCase");function $o(t,e,r){return t=F(t),e=r?i:e,e===i?xc(t)?kc(t):wc(t):t.match(e)||[]}var Ho=q(function(t,e){try{return Ot(t,i,e)}catch(r){return ki(r)?r:new S(r)}}),uv=oe(function(t,e){return qt(e,function(r){r=Yt(r),se(t,r,Hi(t[r],t))}),t});function cv(t){var e=t==null?0:t.length,r=j();return t=e?Z(t,function(n){if(typeof n[1]!="function")throw new kt(O);return[r(n[0]),n[1]]}):[],q(function(n){for(var a=-1;++a<e;){var u=t[a];if(Ot(u[0],this,n))return Ot(u[1],this,n)}})}function hv(t){return $h(Mt(t,nt))}function Fi(t){return function(){return t}}function fv(t,e){return t==null||t!==t?e:t}var lv=ka(),pv=ka(!0);function Ct(t){return t}function Ui(t){return pa(typeof t=="function"?t:Mt(t,nt))}function dv(t){return va(Mt(t,nt))}function vv(t,e){return ga(t,Mt(e,nt))}var gv=q(function(t,e){return function(r){return _r(r,t,e)}}),_v=q(function(t,e){return function(r){return _r(t,r,e)}});function zi(t,e,r){var n=ct(e),a=en(e,n);r==null&&!(X(e)&&(a.length||!n.length))&&(r=e,e=t,t=this,a=en(e,ct(e)));var u=!(X(r)&&"chain"in r)||!!r.chain,c=ce(t);return qt(a,function(h){var p=e[h];t[h]=p,c&&(t.prototype[h]=function(){var m=this.__chain__;if(u||m){var y=t(this.__wrapped__),w=y.__actions__=bt(this.__actions__);return w.push({func:p,args:arguments,thisArg:t}),y.__chain__=m,y}return p.apply(t,ge([this.value()],arguments))})}),t}function mv(){return ht._===this&&(ht._=Uc),this}function Wi(){}function yv(t){return t=R(t),q(function(e){return _a(e,t)})}var wv=Pi(Z),bv=Pi(Ls),Pv=Pi(Jn);function qo(t){return xi(t)?Qn(Yt(t)):Zh(t)}function Ev(t){return function(e){return t==null?i:Te(t,e)}}var Cv=Ma(),Iv=Ma(!0);function Gi(){return[]}function Ji(){return!1}function Av(){return{}}function Ov(){return""}function jv(){return!0}function xv(t,e){if(t=R(t),t<1||t>J)return[];var r=dt,n=vt(t,dt);e=j(e),t-=dt;for(var a=Zn(n,e);++r<t;)e(r);return a}function Dv(t){return T(t)?Z(t,Yt):Dt(t)?[t]:bt(eo(F(t)))}function Sv(t){var e=++Nc;return F(t)+e}var Tv=un(function(t,e){return t+e},0),Rv=Ei("ceil"),$v=un(function(t,e){return t/e},1),Hv=Ei("floor");function qv(t){return t&&t.length?tn(t,Ct,ui):i}function kv(t,e){return t&&t.length?tn(t,j(e,2),ui):i}function Lv(t){return Ns(t,Ct)}function Mv(t,e){return Ns(t,j(e,2))}function Bv(t){return t&&t.length?tn(t,Ct,li):i}function Nv(t,e){return t&&t.length?tn(t,j(e,2),li):i}var Fv=un(function(t,e){return t*e},1),Uv=Ei("round"),zv=un(function(t,e){return t-e},0);function Wv(t){return t&&t.length?Kn(t,Ct):0}function Gv(t,e){return t&&t.length?Kn(t,j(e,2)):0}return o.after=dp,o.ary=lo,o.assign=ed,o.assignIn=Oo,o.assignInWith=bn,o.assignWith=rd,o.at=nd,o.before=po,o.bind=Hi,o.bindAll=uv,o.bindKey=vo,o.castArray=Ap,o.chain=co,o.chunk=Hf,o.compact=qf,o.concat=kf,o.cond=cv,o.conforms=hv,o.constant=Fi,o.countBy=Wl,o.create=id,o.curry=go,o.curryRight=_o,o.debounce=mo,o.defaults=sd,o.defaultsDeep=ad,o.defer=vp,o.delay=gp,o.difference=Lf,o.differenceBy=Mf,o.differenceWith=Bf,o.drop=Nf,o.dropRight=Ff,o.dropRightWhile=Uf,o.dropWhile=zf,o.fill=Wf,o.filter=Jl,o.flatMap=Kl,o.flatMapDeep=Zl,o.flatMapDepth=Yl,o.flatten=so,o.flattenDeep=Gf,o.flattenDepth=Jf,o.flip=_p,o.flow=lv,o.flowRight=pv,o.fromPairs=Qf,o.functions=pd,o.functionsIn=dd,o.groupBy=Xl,o.initial=Kf,o.intersection=Zf,o.intersectionBy=Yf,o.intersectionWith=Xf,o.invert=gd,o.invertBy=_d,o.invokeMap=ep,o.iteratee=Ui,o.keyBy=rp,o.keys=ct,o.keysIn=Et,o.map=vn,o.mapKeys=yd,o.mapValues=wd,o.matches=dv,o.matchesProperty=vv,o.memoize=_n,o.merge=bd,o.mergeWith=jo,o.method=gv,o.methodOf=_v,o.mixin=zi,o.negate=mn,o.nthArg=yv,o.omit=Pd,o.omitBy=Ed,o.once=mp,o.orderBy=np,o.over=wv,o.overArgs=yp,o.overEvery=bv,o.overSome=Pv,o.partial=qi,o.partialRight=yo,o.partition=ip,o.pick=Cd,o.pickBy=xo,o.property=qo,o.propertyOf=Ev,o.pull=nl,o.pullAll=oo,o.pullAllBy=il,o.pullAllWith=sl,o.pullAt=al,o.range=Cv,o.rangeRight=Iv,o.rearg=wp,o.reject=op,o.remove=ol,o.rest=bp,o.reverse=Ri,o.sampleSize=cp,o.set=Ad,o.setWith=Od,o.shuffle=hp,o.slice=ul,o.sortBy=pp,o.sortedUniq=vl,o.sortedUniqBy=gl,o.split=Kd,o.spread=Pp,o.tail=_l,o.take=ml,o.takeRight=yl,o.takeRightWhile=wl,o.takeWhile=bl,o.tap=ql,o.throttle=Ep,o.thru=dn,o.toArray=Co,o.toPairs=Do,o.toPairsIn=So,o.toPath=Dv,o.toPlainObject=Ao,o.transform=jd,o.unary=Cp,o.union=Pl,o.unionBy=El,o.unionWith=Cl,o.uniq=Il,o.uniqBy=Al,o.uniqWith=Ol,o.unset=xd,o.unzip=$i,o.unzipWith=uo,o.update=Dd,o.updateWith=Sd,o.values=Ye,o.valuesIn=Td,o.without=jl,o.words=$o,o.wrap=Ip,o.xor=xl,o.xorBy=Dl,o.xorWith=Sl,o.zip=Tl,o.zipObject=Rl,o.zipObjectDeep=$l,o.zipWith=Hl,o.entries=Do,o.entriesIn=So,o.extend=Oo,o.extendWith=bn,zi(o,o),o.add=Tv,o.attempt=Ho,o.camelCase=qd,o.capitalize=To,o.ceil=Rv,o.clamp=Rd,o.clone=Op,o.cloneDeep=xp,o.cloneDeepWith=Dp,o.cloneWith=jp,o.conformsTo=Sp,o.deburr=Ro,o.defaultTo=fv,o.divide=$v,o.endsWith=kd,o.eq=Qt,o.escape=Ld,o.escapeRegExp=Md,o.every=Gl,o.find=Ql,o.findIndex=no,o.findKey=od,o.findLast=Vl,o.findLastIndex=io,o.findLastKey=ud,o.floor=Hv,o.forEach=ho,o.forEachRight=fo,o.forIn=cd,o.forInRight=hd,o.forOwn=fd,o.forOwnRight=ld,o.get=Mi,o.gt=Tp,o.gte=Rp,o.has=vd,o.hasIn=Bi,o.head=ao,o.identity=Ct,o.includes=tp,o.indexOf=Vf,o.inRange=$d,o.invoke=md,o.isArguments=He,o.isArray=T,o.isArrayBuffer=$p,o.isArrayLike=Pt,o.isArrayLikeObject=et,o.isBoolean=Hp,o.isBuffer=Ee,o.isDate=qp,o.isElement=kp,o.isEmpty=Lp,o.isEqual=Mp,o.isEqualWith=Bp,o.isError=ki,o.isFinite=Np,o.isFunction=ce,o.isInteger=wo,o.isLength=yn,o.isMap=bo,o.isMatch=Fp,o.isMatchWith=Up,o.isNaN=zp,o.isNative=Wp,o.isNil=Jp,o.isNull=Gp,o.isNumber=Po,o.isObject=X,o.isObjectLike=tt,o.isPlainObject=Er,o.isRegExp=Li,o.isSafeInteger=Qp,o.isSet=Eo,o.isString=wn,o.isSymbol=Dt,o.isTypedArray=Ze,o.isUndefined=Vp,o.isWeakMap=Kp,o.isWeakSet=Zp,o.join=tl,o.kebabCase=Bd,o.last=Nt,o.lastIndexOf=el,o.lowerCase=Nd,o.lowerFirst=Fd,o.lt=Yp,o.lte=Xp,o.max=qv,o.maxBy=kv,o.mean=Lv,o.meanBy=Mv,o.min=Bv,o.minBy=Nv,o.stubArray=Gi,o.stubFalse=Ji,o.stubObject=Av,o.stubString=Ov,o.stubTrue=jv,o.multiply=Fv,o.nth=rl,o.noConflict=mv,o.noop=Wi,o.now=gn,o.pad=Ud,o.padEnd=zd,o.padStart=Wd,o.parseInt=Gd,o.random=Hd,o.reduce=sp,o.reduceRight=ap,o.repeat=Jd,o.replace=Qd,o.result=Id,o.round=Uv,o.runInContext=l,o.sample=up,o.size=fp,o.snakeCase=Vd,o.some=lp,o.sortedIndex=cl,o.sortedIndexBy=hl,o.sortedIndexOf=fl,o.sortedLastIndex=ll,o.sortedLastIndexBy=pl,o.sortedLastIndexOf=dl,o.startCase=Zd,o.startsWith=Yd,o.subtract=zv,o.sum=Wv,o.sumBy=Gv,o.template=Xd,o.times=xv,o.toFinite=he,o.toInteger=R,o.toLength=Io,o.toLower=tv,o.toNumber=Ft,o.toSafeInteger=td,o.toString=F,o.toUpper=ev,o.trim=rv,o.trimEnd=nv,o.trimStart=iv,o.truncate=sv,o.unescape=av,o.uniqueId=Sv,o.upperCase=ov,o.upperFirst=Ni,o.each=ho,o.eachRight=fo,o.first=ao,zi(o,function(){var t={};return Kt(o,function(e,r){z.call(o.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),o.VERSION=f,qt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){o[t].placeholder=o}),qt(["drop","take"],function(t,e){L.prototype[t]=function(r){r=r===i?1:at(R(r),0);var n=this.__filtered__&&!e?new L(this):this.clone();return n.__filtered__?n.__takeCount__=vt(r,n.__takeCount__):n.__views__.push({size:vt(r,dt),type:t+(n.__dir__<0?"Right":"")}),n},L.prototype[t+"Right"]=function(r){return this.reverse()[t](r).reverse()}}),qt(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r==v||r==$;L.prototype[t]=function(a){var u=this.clone();return u.__iteratees__.push({iteratee:j(a,3),type:r}),u.__filtered__=u.__filtered__||n,u}}),qt(["head","last"],function(t,e){var r="take"+(e?"Right":"");L.prototype[t]=function(){return this[r](1).value()[0]}}),qt(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");L.prototype[t]=function(){return this.__filtered__?new L(this):this[r](1)}}),L.prototype.compact=function(){return this.filter(Ct)},L.prototype.find=function(t){return this.filter(t).head()},L.prototype.findLast=function(t){return this.reverse().find(t)},L.prototype.invokeMap=q(function(t,e){return typeof t=="function"?new L(this):this.map(function(r){return _r(r,t,e)})}),L.prototype.reject=function(t){return this.filter(mn(j(t)))},L.prototype.slice=function(t,e){t=R(t);var r=this;return r.__filtered__&&(t>0||e<0)?new L(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==i&&(e=R(e),r=e<0?r.dropRight(-e):r.take(e-t)),r)},L.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},L.prototype.toArray=function(){return this.take(dt)},Kt(L.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),a=o[n?"take"+(e=="last"?"Right":""):e],u=n||/^find/.test(e);a&&(o.prototype[e]=function(){var c=this.__wrapped__,h=n?[1]:arguments,p=c instanceof L,m=h[0],y=p||T(c),w=function(k){var M=a.apply(o,ge([k],h));return n&&C?M[0]:M};y&&r&&typeof m=="function"&&m.length!=1&&(p=y=!1);var C=this.__chain__,A=!!this.__actions__.length,x=u&&!C,H=p&&!A;if(!u&&y){c=H?c:new L(this);var D=t.apply(c,h);return D.__actions__.push({func:dn,args:[w],thisArg:i}),new Lt(D,C)}return x&&H?t.apply(this,h):(D=this.thru(w),x?n?D.value()[0]:D.value():D)})}),qt(["pop","push","shift","sort","splice","unshift"],function(t){var e=Mr[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);o.prototype[t]=function(){var a=arguments;if(n&&!this.__chain__){var u=this.value();return e.apply(T(u)?u:[],a)}return this[r](function(c){return e.apply(T(c)?c:[],a)})}}),Kt(L.prototype,function(t,e){var r=o[e];if(r){var n=r.name+"";z.call(Ge,n)||(Ge[n]=[]),Ge[n].push({name:e,func:r})}}),Ge[on(i,Xt).name]=[{name:"wrapper",func:i}],L.prototype.clone=sh,L.prototype.reverse=ah,L.prototype.value=oh,o.prototype.at=kl,o.prototype.chain=Ll,o.prototype.commit=Ml,o.prototype.next=Bl,o.prototype.plant=Fl,o.prototype.reverse=Ul,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=zl,o.prototype.first=o.prototype.head,hr&&(o.prototype[hr]=Nl),o},Ue=Lc();Oe?((Oe.exports=Ue)._=Ue,Un._=Ue):ht._=Ue}).call(Cr)})(es,es.exports);var pg=Object.defineProperty,dg=Object.defineProperties,vg=Object.getOwnPropertyDescriptors,Jo=Object.getOwnPropertySymbols,gg=Object.prototype.hasOwnProperty,_g=Object.prototype.propertyIsEnumerable,Qo=(P,s,i)=>s in P?pg(P,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[s]=i,Pn=(P,s)=>{for(var i in s||(s={}))gg.call(s,i)&&Qo(P,i,s[i]);if(Jo)for(var i of Jo(s))_g.call(s,i)&&Qo(P,i,s[i]);return P},mg=(P,s)=>dg(P,vg(s));function Ce(P,s,i){var f;const _=ng(P);return((f=s.rpcMap)==null?void 0:f[_.reference])||`${lg}?chainId=${_.namespace}:${_.reference}&projectId=${i}`}function qe(P){return P.includes(":")?P.split(":")[1]:P}function nu(P){return P.map(s=>`${s.split(":")[0]}:${s.split(":")[1]}`)}function yg(P,s){const i=Object.keys(s.namespaces).filter(_=>_.includes(P));if(!i.length)return[];const f=[];return i.forEach(_=>{const b=s.namespaces[_].accounts;f.push(...b)}),f}function wg(P={},s={}){const i=Vo(P),f=Vo(s);return es.exports.merge(i,f)}function Vo(P){var s,i,f,_;const b={};if(!rg(P))return b;for(const[O,B]of Object.entries(P)){const ot=ru(O)?[O]:B.chains,it=B.methods||[],lt=B.events||[],nt=B.rpcMap||{},pt=Ir(O);b[pt]=mg(Pn(Pn({},b[pt]),B),{chains:Qi(ot,(s=b[pt])==null?void 0:s.chains),methods:Qi(it,(i=b[pt])==null?void 0:i.methods),events:Qi(lt,(f=b[pt])==null?void 0:f.events),rpcMap:Pn(Pn({},nt),(_=b[pt])==null?void 0:_.rpcMap)})}return b}function bg(P){return P.includes(":")?P.split(":")[2]:P}function Pg(P){const s={};for(const[i,f]of Object.entries(P)){const _=f.methods||[],b=f.events||[],O=f.accounts||[],B=ru(i)?[i]:f.chains?f.chains:nu(f.accounts);s[i]={chains:B,methods:_,events:b,accounts:O}}return s}function Vi(P){return typeof P=="number"?P:P.includes("0x")?parseInt(P,16):P.includes(":")?Number(P.split(":")[1]):Number(P)}const iu={},Y=P=>iu[P],Ki=(P,s)=>{iu[P]=s};class Eg{constructor(s){this.name="polkadot",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getAccounts(){const s=this.namespace.accounts;return s?s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const _=qe(i);s[_]=this.createHttpProvider(_,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class Cg{constructor(s){this.name="eip155",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(s){switch(s.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(s);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(s.request.method)?await this.client.request(s):this.getHttpProvider().request(s.request)}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(parseInt(s),i),this.chainId=parseInt(s),this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}createHttpProvider(s,i){const f=i||Ce(`${this.name}:${s}`,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const _=parseInt(qe(i));s[_]=this.createHttpProvider(_,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}getHttpProvider(){const s=this.chainId,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}async handleSwitchChain(s){var i,f;let _=s.request.params?(i=s.request.params[0])==null?void 0:i.chainId:"0x0";_=_.startsWith("0x")?_:`0x${_}`;const b=parseInt(_,16);if(this.isChainApproved(b))this.setDefaultChain(`${b}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:s.topic,request:{method:s.request.method,params:[{chainId:_}]},chainId:(f=this.namespace.chains)==null?void 0:f[0]}),this.setDefaultChain(`${b}`);else throw new Error(`Failed to switch to chain 'eip155:${b}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(s){return this.namespace.chains.includes(`${this.name}:${s}`)}}class Ig{constructor(s){this.name="solana",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const _=qe(i);s[_]=this.createHttpProvider(_,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class Ag{constructor(s){this.name="cosmos",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const _=qe(i);s[_]=this.createHttpProvider(_,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class Og{constructor(s){this.name="cip34",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{const f=this.getCardanoRPCUrl(i),_=qe(i);s[_]=this.createHttpProvider(_,f)}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}getCardanoRPCUrl(s){const i=this.namespace.rpcMap;if(i)return i[s]}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||this.getCardanoRPCUrl(s);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class jg{constructor(s){this.name="elrond",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const _=qe(i);s[_]=this.createHttpProvider(_,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class xg{constructor(s){this.name="multiversx",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){this.httpProviders[s]||this.setHttpProvider(s,i),this.chainId=s,this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${s}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}getAccounts(){const s=this.namespace.accounts;return s?[...new Set(s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;const _=qe(i);s[_]=this.createHttpProvider(_,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace,this.client.core.projectId);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);return new Ie(new Ae(f,Y("disableProviderPing")))}}class Dg{constructor(s){this.name="near",this.namespace=s.namespace,this.events=Y("events"),this.client=Y("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(s){this.namespace=Object.assign(this.namespace,s)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const s=this.namespace.chains[0];if(!s)throw new Error("ChainId not found");return s.split(":")[1]}request(s){return this.namespace.methods.includes(s.request.method)?this.client.request(s):this.getHttpProvider().request(s.request)}setDefaultChain(s,i){if(this.chainId=s,!this.httpProviders[s]){const f=i||Ce(`${this.name}:${s}`,this.namespace);if(!f)throw new Error(`No RPC url provided for chainId: ${s}`);this.setHttpProvider(s,f)}this.events.emit(le.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const s=this.namespace.accounts;return s?s.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const s={};return this.namespace.chains.forEach(i=>{var f;s[i]=this.createHttpProvider(i,(f=this.namespace.rpcMap)==null?void 0:f[i])}),s}getHttpProvider(){const s=`${this.name}:${this.chainId}`,i=this.httpProviders[s];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${s} not found`);return i}setHttpProvider(s,i){const f=this.createHttpProvider(s,i);f&&(this.httpProviders[s]=f)}createHttpProvider(s,i){const f=i||Ce(s,this.namespace);return typeof f>"u"?void 0:new Ie(new Ae(f,Y("disableProviderPing")))}}var Sg=Object.defineProperty,Tg=Object.defineProperties,Rg=Object.getOwnPropertyDescriptors,Ko=Object.getOwnPropertySymbols,$g=Object.prototype.hasOwnProperty,Hg=Object.prototype.propertyIsEnumerable,Zo=(P,s,i)=>s in P?Sg(P,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[s]=i,En=(P,s)=>{for(var i in s||(s={}))$g.call(s,i)&&Zo(P,i,s[i]);if(Ko)for(var i of Ko(s))Hg.call(s,i)&&Zo(P,i,s[i]);return P},Zi=(P,s)=>Tg(P,Rg(s));class is{constructor(s){this.events=new Yv,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=s,this.logger=typeof(s==null?void 0:s.logger)<"u"&&typeof(s==null?void 0:s.logger)!="string"?s.logger:No.pino(No.getDefaultLoggerOptions({level:(s==null?void 0:s.logger)||Wo})),this.disableProviderPing=(s==null?void 0:s.disableProviderPing)||!1}static async init(s){const i=new is(s);return await i.initialize(),i}async request(s,i){const[f,_]=this.validateChain(i);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(f).request({request:En({},s),chainId:`${f}:${_}`,topic:this.session.topic})}sendAsync(s,i,f){const _=new Date().getTime();this.request(s,f).then(b=>i(null,Xv(_,b))).catch(b=>i(b,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var s;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(s=this.session)==null?void 0:s.topic,reason:Xi("USER_DISCONNECTED")}),await this.cleanup()}async connect(s){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(s),await this.cleanupPendingPairings(),!s.skipPairing)return await this.pair(s.pairingTopic)}on(s,i){this.events.on(s,i)}once(s,i){this.events.once(s,i)}removeListener(s,i){this.events.removeListener(s,i)}off(s,i){this.events.off(s,i)}get isWalletConnect(){return!0}async pair(s){this.shouldAbortPairingAttempt=!1;let i=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(i>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:f,approval:_}=await this.client.connect({pairingTopic:s,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});f&&(this.uri=f,this.events.emit("display_uri",f)),await _().then(b=>{this.session=b,this.namespaces||(this.namespaces=Pg(b.namespaces),this.persist("namespaces",this.namespaces))}).catch(b=>{if(b.message!==tg)throw b;i++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(s,i){try{if(!this.session)return;const[f,_]=this.validateChain(s);this.getProvider(f).setDefaultChain(_,i)}catch(f){if(!/Please call connect/.test(f.message))throw f}}async cleanupPendingPairings(s={}){this.logger.info("Cleaning up inactive pairings...");const i=this.client.pairing.getAll();if(Or(i)){for(const f of i)s.deletePairings?this.client.core.expirer.set(f.topic,0):await this.client.core.relayer.subscriber.unsubscribe(f.topic);this.logger.info(`Inactive pairings cleared: ${i.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const s=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[s]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await eg.init({logger:this.providerOpts.logger||Wo,relayUrl:this.providerOpts.relayUrl||cg,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const s=[...new Set(Object.keys(this.session.namespaces).map(i=>Ir(i)))];Ki("client",this.client),Ki("events",this.events),Ki("disableProviderPing",this.disableProviderPing),s.forEach(i=>{if(!this.session)return;const f=yg(i,this.session),_=nu(f),b=wg(this.namespaces,this.optionalNamespaces),O=Zi(En({},b[i]),{accounts:f,chains:_});switch(i){case"eip155":this.rpcProviders[i]=new Cg({namespace:O});break;case"solana":this.rpcProviders[i]=new Ig({namespace:O});break;case"cosmos":this.rpcProviders[i]=new Ag({namespace:O});break;case"polkadot":this.rpcProviders[i]=new Eg({namespace:O});break;case"cip34":this.rpcProviders[i]=new Og({namespace:O});break;case"elrond":this.rpcProviders[i]=new jg({namespace:O});break;case"multiversx":this.rpcProviders[i]=new xg({namespace:O});break;case"near":this.rpcProviders[i]=new Dg({namespace:O});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",s=>{this.events.emit("session_ping",s)}),this.client.on("session_event",s=>{const{params:i}=s,{event:f}=i;if(f.name==="accountsChanged"){const _=f.data;_&&Or(_)&&this.events.emit("accountsChanged",_.map(bg))}else if(f.name==="chainChanged"){const _=i.chainId,b=i.event.data,O=Ir(_),B=Vi(_)!==Vi(b)?`${O}:${Vi(b)}`:_;this.onChainChanged(B)}else this.events.emit(f.name,f.data);this.events.emit("session_event",s)}),this.client.on("session_update",({topic:s,params:i})=>{var f;const{namespaces:_}=i,b=(f=this.client)==null?void 0:f.session.get(s);this.session=Zi(En({},b),{namespaces:_}),this.onSessionUpdate(),this.events.emit("session_update",{topic:s,params:i})}),this.client.on("session_delete",async s=>{await this.cleanup(),this.events.emit("session_delete",s),this.events.emit("disconnect",Zi(En({},Xi("USER_DISCONNECTED")),{data:s.topic}))}),this.on(le.DEFAULT_CHAIN_CHANGED,s=>{this.onChainChanged(s,!0)})}getProvider(s){if(!this.rpcProviders[s])throw new Error(`Provider not found: ${s}`);return this.rpcProviders[s]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(s=>{var i;this.getProvider(s).updateNamespace((i=this.session)==null?void 0:i.namespaces[s])})}setNamespaces(s){const{namespaces:i,optionalNamespaces:f,sessionProperties:_}=s;i&&Object.keys(i).length&&(this.namespaces=i),f&&Object.keys(f).length&&(this.optionalNamespaces=f),this.sessionProperties=_,this.persist("namespaces",i),this.persist("optionalNamespaces",f)}validateChain(s){const[i,f]=(s==null?void 0:s.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[i,f];if(i&&!Object.keys(this.namespaces||{}).map(O=>Ir(O)).includes(i))throw new Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);if(i&&f)return[i,f];const _=Ir(Object.keys(this.namespaces)[0]),b=this.rpcProviders[_].getDefaultChain();return[_,b]}async requestAccounts(){const[s]=this.validateChain();return await this.getProvider(s).requestAccounts()}onChainChanged(s,i=!1){var f;if(!this.namespaces)return;const[_,b]=this.validateChain(s);i||this.getProvider(_).setDefaultChain(b),((f=this.namespaces[_])!=null?f:this.namespaces[`${_}:${b}`]).defaultChain=b,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",b)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(s,i){this.client.core.storage.setItem(`${Go}/${s}`,i)}async getFromStore(s){return await this.client.core.storage.getItem(`${Go}/${s}`)}}const qg=is,kg="wc",Lg="ethereum_provider",Mg=`${kg}@2:${Lg}:`,Bg="https://rpc.walletconnect.com/v1/",rs=["eth_sendTransaction","personal_sign"],Ng=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],ns=["chainChanged","accountsChanged"],Fg=["chainChanged","accountsChanged","message","disconnect","connect"];var Ug=Object.defineProperty,zg=Object.defineProperties,Wg=Object.getOwnPropertyDescriptors,Yo=Object.getOwnPropertySymbols,Gg=Object.prototype.hasOwnProperty,Jg=Object.prototype.propertyIsEnumerable,Xo=(P,s,i)=>s in P?Ug(P,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):P[s]=i,Ar=(P,s)=>{for(var i in s||(s={}))Gg.call(s,i)&&Xo(P,i,s[i]);if(Yo)for(var i of Yo(s))Jg.call(s,i)&&Xo(P,i,s[i]);return P},tu=(P,s)=>zg(P,Wg(s));function Cn(P){return Number(P[0].split(":")[1])}function Yi(P){return`0x${P.toString(16)}`}function Qg(P){const{chains:s,optionalChains:i,methods:f,optionalMethods:_,events:b,optionalEvents:O,rpcMap:B}=P;if(!Or(s))throw new Error("Invalid chains");const ot={chains:s,methods:f||rs,events:b||ns,rpcMap:Ar({},s.length?{[Cn(s)]:B[Cn(s)]}:{})},it=b==null?void 0:b.filter(ut=>!ns.includes(ut)),lt=f==null?void 0:f.filter(ut=>!rs.includes(ut));if(!i&&!O&&!_&&!(it!=null&&it.length)&&!(lt!=null&&lt.length))return{required:s.length?ot:void 0};const nt=(it==null?void 0:it.length)&&(lt==null?void 0:lt.length)||!i,pt={chains:[...new Set(nt?ot.chains.concat(i||[]):i)],methods:[...new Set(ot.methods.concat(_!=null&&_.length?_:Ng))],events:[...new Set(ot.events.concat(O!=null&&O.length?O:Fg))],rpcMap:B};return{required:s.length?ot:void 0,optional:i.length?pt:void 0}}class ss{constructor(){this.events=new eu.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=Mg,this.on=(s,i)=>(this.events.on(s,i),this),this.once=(s,i)=>(this.events.once(s,i),this),this.removeListener=(s,i)=>(this.events.removeListener(s,i),this),this.off=(s,i)=>(this.events.off(s,i),this),this.parseAccount=s=>this.isCompatibleChainId(s)?this.parseAccountId(s).address:s,this.signer={},this.rpc={}}static async init(s){const i=new ss;return await i.initialize(s),i}async request(s){return await this.signer.request(s,this.formatChainId(this.chainId))}sendAsync(s,i){this.signer.sendAsync(s,i,this.formatChainId(this.chainId))}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(s){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(s);const{required:i,optional:f}=Qg(this.rpc);try{const _=await new Promise(async(O,B)=>{var ot;this.rpc.showQrModal&&((ot=this.modal)==null||ot.subscribeModal(it=>{!it.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),B(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(tu(Ar({namespaces:Ar({},i&&{[this.namespace]:i})},f&&{optionalNamespaces:{[this.namespace]:f}}),{pairingTopic:s==null?void 0:s.pairingTopic})).then(it=>{O(it)}).catch(it=>{B(new Error(it.message))})});if(!_)return;const b=ig(_.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:b),this.setAccounts(b),this.events.emit("connect",{chainId:Yi(this.chainId)})}catch(_){throw this.signer.logger.error(_),_}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",s=>{const{params:i}=s,{event:f}=i;f.name==="accountsChanged"?(this.accounts=this.parseAccounts(f.data),this.events.emit("accountsChanged",this.accounts)):f.name==="chainChanged"?this.setChainId(this.formatChainId(f.data)):this.events.emit(f.name,f.data),this.events.emit("session_event",s)}),this.signer.on("chainChanged",s=>{const i=parseInt(s);this.chainId=i,this.events.emit("chainChanged",Yi(this.chainId)),this.persist()}),this.signer.on("session_update",s=>{this.events.emit("session_update",s)}),this.signer.on("session_delete",s=>{this.reset(),this.events.emit("session_delete",s),this.events.emit("disconnect",tu(Ar({},Xi("USER_DISCONNECTED")),{data:s.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",s=>{var i,f;this.rpc.showQrModal&&((i=this.modal)==null||i.closeModal(),(f=this.modal)==null||f.openModal({uri:s})),this.events.emit("display_uri",s)})}switchEthereumChain(s){this.request({method:"wallet_switchEthereumChain",params:[{chainId:s.toString(16)}]})}isCompatibleChainId(s){return typeof s=="string"?s.startsWith(`${this.namespace}:`):!1}formatChainId(s){return`${this.namespace}:${s}`}parseChainId(s){return Number(s.split(":")[1])}setChainIds(s){const i=s.filter(f=>this.isCompatibleChainId(f)).map(f=>this.parseChainId(f));i.length&&(this.chainId=i[0],this.events.emit("chainChanged",Yi(this.chainId)),this.persist())}setChainId(s){if(this.isCompatibleChainId(s)){const i=this.parseChainId(s);this.chainId=i,this.switchEthereumChain(i)}}parseAccountId(s){const[i,f,_]=s.split(":");return{chainId:`${i}:${f}`,address:_}}setAccounts(s){this.accounts=s.filter(i=>this.parseChainId(this.parseAccountId(i).chainId)===this.chainId).map(i=>this.parseAccountId(i).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(s){var i,f;const _=(i=s==null?void 0:s.chains)!=null?i:[],b=(f=s==null?void 0:s.optionalChains)!=null?f:[],O=_.concat(b);if(!O.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const B=_.length?(s==null?void 0:s.methods)||rs:[],ot=_.length?(s==null?void 0:s.events)||ns:[],it=(s==null?void 0:s.optionalMethods)||[],lt=(s==null?void 0:s.optionalEvents)||[],nt=(s==null?void 0:s.rpcMap)||this.buildRpcMap(O,s.projectId),pt=(s==null?void 0:s.qrModalOptions)||void 0;return{chains:_==null?void 0:_.map(ut=>this.formatChainId(ut)),optionalChains:b.map(ut=>this.formatChainId(ut)),methods:B,events:ot,optionalMethods:it,optionalEvents:lt,rpcMap:nt,showQrModal:!!(s!=null&&s.showQrModal),qrModalOptions:pt,projectId:s.projectId,metadata:s.metadata}}buildRpcMap(s,i){const f={};return s.forEach(_=>{f[_]=this.getRpcUrl(_,i)}),f}async initialize(s){if(this.rpc=this.getRpcConfig(s),this.chainId=this.rpc.chains.length?Cn(this.rpc.chains):Cn(this.rpc.optionalChains),this.signer=await qg.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:s.disableProviderPing,relayUrl:s.relayUrl,storageOptions:s.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let i;try{const{WalletConnectModal:f}=await sg(()=>import("./index-f7fbd304.js").then(_=>_.i),["./index-f7fbd304.js","./index-e9dc9249.js","./index-cc9a8f3e.css"],import.meta.url);i=f}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(i)try{this.modal=new i(Ar({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(f){throw this.signer.logger.error(f),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(s){if(!s)return;const{chains:i,optionalChains:f,rpcMap:_}=s;i&&Or(i)&&(this.rpc.chains=i.map(b=>this.formatChainId(b)),i.forEach(b=>{this.rpc.rpcMap[b]=(_==null?void 0:_[b])||this.getRpcUrl(b)})),f&&Or(f)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=f==null?void 0:f.map(b=>this.formatChainId(b)),f.forEach(b=>{this.rpc.rpcMap[b]=(_==null?void 0:_[b])||this.getRpcUrl(b)}))}getRpcUrl(s,i){var f;return((f=this.rpc.rpcMap)==null?void 0:f[s])||`${Bg}?chainId=eip155:${s}&projectId=${i||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const s=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),i=this.session.namespaces[`${this.namespace}:${s}`]?this.session.namespaces[`${this.namespace}:${s}`]:this.session.namespaces[this.namespace];this.setChainIds(s?[this.formatChainId(s)]:i==null?void 0:i.accounts),this.setAccounts(i==null?void 0:i.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(s){return typeof s=="string"||s instanceof String?[this.parseAccount(s)]:s.map(i=>this.parseAccount(i))}}const Kg=ss;export{Kg as EthereumProvider,Fg as OPTIONAL_EVENTS,Ng as OPTIONAL_METHODS,ns as REQUIRED_EVENTS,rs as REQUIRED_METHODS,ss as default};
